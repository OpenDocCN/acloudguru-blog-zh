<html>
<head>
<title>Configuring the AWS Command Line Interface (CLI) | A Cloud Guru</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1>配置AWS命令行界面(CLI) |云专家</h1>
<blockquote>原文：<a href="https://acloudguru.com/blog/engineering/configuring-the-aws-command-line-interface#0001-01-01">https://acloudguru.com/blog/engineering/configuring-the-aws-command-line-interface#0001-01-01</a></blockquote><div><div class="elementor-widget-container"><p>配置AWS命令行界面并不复杂。在你知道之前，你就可以开始工作了！AWS CLI根据您的需求提供了许多定制选项。举几个例子，您可以支持多个概要文件，通过向概要文件分配用户角色来限制访问，甚至使用HTTP代理。我们开始吧！</p><h2 id="h-simple-configuration-of-the-aws-cli">AWS CLI的简单配置</h2><p>AWS CLI在本地将用户配置和表示为名为<em>的实体，命名为配置文件</em>，或简称为<em>配置文件</em>。如果没有使用<span class="inline-code">–配置文件</span>选项指定配置文件，将使用默认配置文件，该文件方便地命名为<span class="inline-code">默认</span>。</p><h2 id="h-default-profile-configuration"><strong>默认配置文件配置</strong></h2><ol><li>打开一个终端窗口，输入以下命令:<code>aws configure</code>在Windows上，您首选的终端应用程序可能是PowerShell或Windows命令提示符(CMD)。在Linux、Mac或Unix上，可以是任意数量的使用bash、zsh或tsch shells的终端应用程序。</li><li>输入AWS访问键、默认区域名称和默认输出格式:<code>AWS Access Key ID [None]: AKIAIOSFODNN7EXAMPLEAWS Secret Access Key [None]: wJalrXUtnFEMI/K7MDENG/bPxRfiCYEXAMPLEKEY Defaultregion name [None]: us-west-2Default output format [None]: json</code></li></ol><h3>什么是Aws访问密钥，我为什么需要它们？</h3><p>AWS访问密钥，特别是AWS访问密钥ID和AWS秘密访问密钥，用于在发出请求时唯一且安全地识别您的身份。这些可以在AWS管理控制台中找到或创建。关于创建AWS访问键的更多信息可以在<a href="https://docs.aws.amazon.com/cli/latest/userguide/cli-chap-getting-started.html" target="_blank" rel="noopener noreferrer">这里</a>找到。</p><p><strong>注意:</strong> Amazon建议您为有限的IAM角色使用访问密钥，而不是AWS root帐户访问密钥。原因是，<a href="https://docs.aws.amazon.com/cli/latest/userguide/cli-chap-getting-started.html" target="_blank" rel="noopener noreferrer">根据AWS文档</a>，IAM <em>可以让您安全地控制对AWS服务和AWS帐户资源的访问。</em></p><h3><strong>默认的地区名称是什么？</strong></h3><p>默认的地区名称是一个非可选的字段，通常是离你最近的地区名称。这是将用于对服务进行调用的默认区域。有关服务和可用区域的列表，请参见<a href="https://docs.aws.amazon.com/general/latest/gr/rande.html" target="_blank" rel="noopener noreferrer">区域和端点</a>。</p><h3><strong>默认输出格式是什么？</strong></h3><p>默认的输出格式是一个<em>可选的</em>字段，指定来自Amazon Web服务的响应格式。如果不指定格式类型，将使用JSON。</p><p>可用的格式类型有:</p><h2 id="h-multiple-profiles"><strong>多个配置文件</strong></h2><p>因此，您已经为默认用户安装并配置了AWS CLI。很简单，对吧？但是如果你想支持多个用户呢？幸运的是，AWS CLI通过使用<em>命名概要文件</em>支持多用户。命名配置文件的配置几乎与默认配置文件完全一样。然而，有一点小小的不同。您必须将<span class="inline-code">–配置文件</span>选项与<span class="inline-code"> aws配置</span>命令一起使用，并指定一个配置文件名称:<code>aws configure --profile my_profile_name</code>关于配置文件的更多信息可在<a href="https://docs.aws.amazon.com/cli/latest/userguide/cli-multiple-profiles.html" target="_blank" rel="noopener noreferrer">这里找到</a>。</p><h3><strong>如何更新我的配置设置？</strong></h3><p>您可以通过使用AWS CLI或手动更改<span class="inline-code">凭证</span>和<span class="inline-code">配置</span>文件中的值来更新您的配置设置。</p><ol><li><strong>使用AWS CLI</strong>–在您的终端中运行<span class="inline-code"> aws配置</span>命令，并输入更新的信息。有关更多详细信息，请参考上面的配置部分。</li></ol><p>2.<strong>手动更改数值</strong>–导航至<span class="inline-code">。aws </span>目录，并更新<span class="inline-code">凭证</span>和<span class="inline-code">配置</span>文件中的键值对。</p><hr class="wp-block-separator"/><p class="has-text-align-center"><em> <strong>还有什么CLI？</strong>T3】</em></p><p class="has-text-align-center"><em>查看我们的<a href="https://acloudguru.com/blog/engineering/aws-s3-cheat-sheet"> AWS CLI和S3备忘单</a>。或者，尝试我们的动手实验，在CLI中获得创建和定制<a href="https://acloudguru.com/hands-on-labs/using-the-aws-cli-to-create-an-aws-lambda-function"> Lambda函数的真实体验。</a> </em></p><hr class="wp-block-separator"/><h3>我的凭据存储在哪里？</h3><p>AWS CLI将凭证存储在名为c <span class="inline-code"> redentials </span>的本地文件中，该文件位于名为<span class="inline-code">的文件夹中。aws </span>在您的主目录中。</p><h3>我的默认区域名称和输出格式存储在哪里？</h3><p>AWS CLI将默认区域名称和输出格式存储在名为<span class="inline-code">的文件夹中名为<span class="inline-code"> config </span>的本地文件中。aws </span>在您的主目录中。您可以通过将<span class="inline-code"> AWS_CONFIG_FILE </span>环境变量设置为另一个路径来更改配置文件的位置。关于设置环境变量的更多信息可以在<a href="https://docs.aws.amazon.com/cli/latest/userguide/cli-environment.html" target="_blank" rel="noopener noreferrer">这里</a>找到。</p><h3><strong>我可以手动添加已命名的个人资料吗？</strong></h3><p>您可以通过将所需信息添加到<span class="inline-code">凭证</span>和<span class="inline-code">配置</span>文件来手动配置配置文件。凭证和配置文件中的字段由键-值对表示，这些键-值对的名称以括号中的概要文件名开头。默认配置文件也位于这两个文件中。</p><ol><li>导航到<span class="inline-code">。您主目录中的aws </span>文件夹。</li><li>打开<span class="inline-code">凭证</span>文件，添加概要文件名，后跟键值对:<code>[my_profile_name]aws_access_key_id=AKIAI44QH8DHBEXAMPLEaws_secret_access_key=je7MtGbClwBF/2Zp9Utk/h3yCo8nvbEXAMPLEKEY</code></li><li>打开<span class="inline-code"> config </span>文件，添加配置文件名，前缀为<span class="inline-code"> &gt; profile </span>，后跟键值对。例如<code>[profile my_profile_name]region=us-east-1output=text</code></li></ol><p><strong>注意:</strong>对于命名配置文件，AWS凭证文件使用与CLI配置文件不同的命名格式。在AWS凭证文件中配置命名概要文件时，<em>不要</em>包含“概要文件”前缀。更多信息参见<a href="https://docs.aws.amazon.com/cli/latest/userguide/cli-multiple-profiles.html" target="_blank" rel="noopener noreferrer"> AWS文档</a>。</p><h3>我可以为多个命令指定一个默认配置文件吗？</h3><p>当然啦！您可以通过设置<span class="inline-code"> AWS_DEFAULT_PROFILE </span>环境变量来实现。关于设置环境变量的更多信息可以在<a href="https://docs.aws.amazon.com/cli/latest/userguide/cli-environment.html" target="_blank" rel="noopener noreferrer">这里</a>找到。</p><p><strong>注意:</strong>设置环境变量会改变缺省配置文件，直到您的shell会话结束，或者直到您将该变量设置为不同的值。</p><h3>我在哪里可以找到更多信息？</h3><p>有关AWS CLI配置的更多信息，请参见用户指南中的配置部分<a href="https://docs.aws.amazon.com/cli/latest/userguide/cli-chap-getting-started.html" target="_blank" rel="noopener noreferrer">此处</a>。</p><h2 id="h-success">成功！</h2><p>就是这样！现在您已经配置了CLI，您已经准备好使用它与AWS服务进行交互，并开始从终端管理您的基础设施。下一次，我们将解释如何进行API调用来启动服务器、创建安全组，以及只需几个按键就能完成的更多事情。</p><hr class="wp-block-separator"/><h2 class="has-text-align-center" id="h-get-the-skills-you-need-for-a-better-career">获得更好职业所需的技能。</h2><p class="has-text-align-center">掌握现代技术技能，获得认证，提升您的职业生涯。无论您是新手还是经验丰富的专业人士，您都可以通过实践来学习，并在ACG的帮助下推进您的云计算职业生涯。</p><hr class="wp-block-separator"/><p>更多AWS CLI资源</p></div></div>    
</body>
</html>