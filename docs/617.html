<html>
<head>
<title>Using AWK command in Bash on Linux | A Cloud Guru</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1>在Linux上的Bash中使用AWK命令</h1>
<blockquote>原文：<a href="https://acloudguru.com/blog/engineering/the-awk-command-bash-basics#0001-01-01">https://acloudguru.com/blog/engineering/the-awk-command-bash-basics#0001-01-01</a></blockquote><div><div class="elementor-widget-container"><p><span>当我刚开始做系统管理员时，我想知道<em> <strong>如何获得晋升</strong> </em>，有人告诉我，我需要知道<a href="https://acloudguru.com/blog/engineering/tutorial-the-best-tips-tricks-for-bash-explained" target="_blank" rel="nofollow noopener noreferrer"> BASH </a>实用程序，比如AWK。</span>Linux就业市场继续增长和扩大，我们的<a href="https://acloudguru.com/course/linux-foundation-certified-system-administrator-lfcs"> LFCS </a>课程将帮助你准备一个标准的行业Linux管理认证。</p><p>我不确定AWK是否真的是一个实用程序——当阿尔弗雷德·艾侯、彼得·温伯格和布莱恩·柯尼根在贝尔实验室编写它时，它原本是一种数据驱动的编程语言。名字来源于他们姓氏的首字母，但是我们在Linux上BASH用的程序是(G)AWK或者Gnu AWK，还有很多衍生。</p><p/><p/><h2><b>你能用AWK命令做什么？</b></h2><p><span>既然我们已经解决了这些琐事，那么我们能对AWK做些什么呢？只需在命令提示符下输入<code>awk</code>就可以调用AWK。在命令行上，都是小写。</span></p><p><span> <strong> AWK最常用于处理文件。</strong> AWK处理一个条件，如果提供了一个条件，然后采取行动。默认操作是打印满足条件的任何内容。在文件中搜索正则表达式模式匹配:</span></p><pre class="wp-block-preformatted"><span>   awk ‘/regex/’  /etc/passwd </span></pre><p><span>这将导致来自<code>/etc/passwd</code>文件的匹配行被打印到命令行。这是相当基本的，我们使用打印匹配的默认行为。</span></p><p><span> <strong> AWK也可以用来搜索数据列，干净利落地输出信息。</strong>了解特定服务是否正在运行，如果找到则显示名称:</span></p><pre class="wp-block-preformatted"><span>   ps -ax | awk ‘/systemd/ {print $5}’</span></pre><p><span>关于<code>awk</code>的一个好处是它标记了输入其中的行。这意味着对于有分隔符的项目，您可以选择一列。您可以在命令行上指定字段分隔符。</span></p><p><span>一个例子是打印来自<code>/etc/passwd</code>的用户列表，条目由冒号(<code>:</code>)分隔，用户名在第一列。记住<code>$0</code>是整条线。</span></p><pre class="wp-block-preformatted"><span>  awk -F: ‘{print $1}’ /etc/passwd</span></pre><h2 id="h-examples-of-putting-awk-to-work"><b>让AWK工作的例子</b></h2><p><span>这很好，但我们想和AWK一起工作，对吗？所以，如果你有一个目录(我们用<code>/etc</code>来表示这个目录)并且想知道这个目录的大小:</span></p><pre class="wp-block-preformatted"><span>  ls -l /etc | awk ‘{x += $5} END {print “total bytes:” x}'</span></pre><p><span>这里，我们获取<code>ls -l</code>命令的输出，并将每一行添加到变量<code>x</code>，因为AWK的变量被初始化为<code>0</code>，第五列是文件大小，当我们解析输出时，我们将每个文件的大小添加到<code>x</code>。</span></p><p><span><code>END</code>关键字表示输入解析完成后我们想要采取的动作。在这种情况下，我们打印<code>x</code>的值。以千字节为单位，我们将结果<code>x</code>除以1024: </span></p><pre class="wp-block-preformatted"><span>  ls -l /etc | awk ‘{x += $5} END {print “total Kilobytes:” (x/1024)}</span></pre><h2 id="h-awk-as-a-full-scripting-language">AWK作为一种完整的脚本语言</h2><p><span> AWK也可以作为一种完整的脚本语言，你可以在命令行上使用<code>-f</code>标志向它传递脚本文件。</span></p><p><b>从哪里开始</b> <span>:正如我在开头所说的，命令行的使用是求职面试中人们与其同时代人的真正区别。公司对自动化和一切代码感兴趣。这从<a href="https://acloudguru.com/course/the-system-administrators-guide-to-bash-scripting">了解BASH shell脚本</a>的条件及其所有特性开始。</span></p><p>如果你想让自己与众不同，并显示出你对自己正在做的事情感到满意，你可以考虑看一看<a href="https://acloudguru.com/blog/engineering/conditions-in-bash-scripting-if-statements">Bash脚本管理指南</a>。这将带您到一个地方，在那里您可以真正地用命令行显示您的舒适程度。</p><hr class="wp-block-separator is-style-wide"/><h2 class="has-text-align-center" id="h-level-up-your-cloud-career">提升您的云计算职业生涯</h2><p class="has-text-align-center">无论您是云新手还是经验丰富的专家，云专家都能让您轻松(而且非常棒)地获得认证并掌握现代技术技能。查看ACG目前的免费课程或立即开始免费试用。</p><hr class="wp-block-separator is-style-wide"/><h3 id="h-want-more-cloud-tech-goodness-check-these-out">想要更多云技术的好处吗？看看这些:</h3></div></div>    
</body>
</html>