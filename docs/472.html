<html>
<head>
<title>Remotely Access On-Premises Apps with Azure AD App Proxy | A Cloud Guru</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1>使用Azure AD应用程序代理|云专家远程访问内部应用程序</h1>
<blockquote>原文：<a href="https://acloudguru.com/blog/engineering/remotely-access-on-premises-apps-with-azure-ad-app-proxy#0001-01-01">https://acloudguru.com/blog/engineering/remotely-access-on-premises-apps-with-azure-ad-app-proxy#0001-01-01</a></blockquote><div><div class="elementor-widget-container"><p>您是否有必须保留在本地的应用程序？也许你已经在Azure中托管了很多，但是你也有一个顽固的、遗留的或其他的、受限的应用程序不能被迁移。</p><p>随着世界上许多工作人员现在远程工作，您可能想知道如何最好地提供对这些应用程序的安全远程访问，而不增加VPN或VDI所需的基础架构和入站连接。</p><p>如果您<em>确实</em>想要提供对具有单点登录(SSO)的本地应用程序的安全远程访问、对各种身份验证协议的支持以及其他Azure AD安全功能，那么只需看看Azure AD应用程序代理就可以了。</p><hr class="wp-block-separator"/><p class="has-text-align-center" id="h-your-keys-to-a-better-career"><strong>通往更好职业的钥匙</strong></p><p class="has-text-align-center"><a href="https://acloudguru.com/pricing" target="_blank" rel="noreferrer noopener">立即开始ACG </a>通过AWS、Microsoft Azure、Google Cloud等领域的课程和实际动手实验室来改变你的职业生涯。</p><hr class="wp-block-separator"/><p>这款Azure AD Premium授权产品允许您为您的远程员工发布本地应用。它只需要到Azure的出站网络连接，因此您的网络安全团队会很高兴不需要入站防火墙规则。它通过Azure广告功能(如条件接收策略)为这些应用程序增加了额外的保护。它支持多种身份验证协议的单点登录，例如:</p><ul><li>集成Windows身份验证(IWA)</li><li>基于报头的认证</li><li>基于表单和基于密码的身份验证</li><li>SAML认证</li></ul><p>如果这听起来有助于在您的环境中提供安全的应用程序访问，那就留下来吧！我们将对Azure广告应用程序代理的架构和实现进行一个高层次的介绍，并提供一些额外的技巧来帮助我们。</p><p>在我们深入研究如何使用Azure广告应用程序代理之前，让我们快速总结一些重要的需求:</p><ul><li>Azure AD应用程序代理需要Azure AD Premium P1或P2许可</li><li>本地应用程序必须在Azure AD中注册</li><li>必须在内部安装一个或多个Azure AD应用程序代理连接器</li><li>连接器必须能够访问Azure AD和内部应用程序</li><li>您的内部应用可以是私有的，并且不需要访问Azure AD</li><li>单点登录和条件访问等功能需要预认证</li></ul><hr class="wp-block-separator"/><hr class="wp-block-separator"/><h2 id="h-how-to-use-azure-ad-application-proxy">如何使用Azure AD应用程序代理</h2><h3>步骤1:配置连接器</h3><p>为了帮助提供对本地应用程序的安全访问，您需要安装Azure AD应用程序代理连接器。如果您刚刚开始，您可以通过安装一个连接器来简化您的设置。但是可以使用多个来提供弹性，建议在生产环境中使用。</p><p>要安装连接器，您应该登录到将用作连接器的Windows服务器。此服务器应该具有到Azure AD的出站连接，以及到你的应用的内部私有连接(理想情况下是紧密/低延迟)。</p><p>从该服务器登录到Azure门户。然后，您可以导航到Azure Active Directory &gt;应用程序代理，并选择下载和安装连接器。</p><p>成功安装后，您应该会在门户中看到连接器列为“活动”。</p><figure class="wp-block-image size-large"><img loading="lazy" src="../Images/0a778ee084888b111d0614cd3ce3894f.png" alt="" class="wp-image-45464" srcset="https://res.cloudinary.com/acloud-guru/image/fetch/c_thumb,f_auto,q_auto,w_1700/https://acg-wordpress-content-production.s3.us-west-2.amazonaws.com/app/uploads/2021/02/AzureMap_BlogHeader.jpg 1700w, https://res.cloudinary.com/acloud-guru/image/fetch/c_thumb,f_auto,q_auto,w_300/https://acg-wordpress-content-production.s3.us-west-2.amazonaws.com/app/uploads/2021/02/AzureMap_BlogHeader.jpg 300w, https://res.cloudinary.com/acloud-guru/image/fetch/c_thumb,f_auto,q_auto,w_1024/https://acg-wordpress-content-production.s3.us-west-2.amazonaws.com/app/uploads/2021/02/AzureMap_BlogHeader.jpg 1024w, https://res.cloudinary.com/acloud-guru/image/fetch/c_thumb,f_auto,q_auto,w_768/https://acg-wordpress-content-production.s3.us-west-2.amazonaws.com/app/uploads/2021/02/AzureMap_BlogHeader.jpg 768w, https://res.cloudinary.com/acloud-guru/image/fetch/c_thumb,f_auto,q_auto,w_1536/https://acg-wordpress-content-production.s3.us-west-2.amazonaws.com/app/uploads/2021/02/AzureMap_BlogHeader.jpg 1536w" sizes="(max-width: 1700px) 100vw, 1700px" data-original-src="https://res.cloudinary.com/acloud-guru/image/fetch/c_thumb,f_auto,q_auto/https://acg-wordpress-content-production.s3.us-west-2.amazonaws.com/app/uploads/2021/02/AzureMap_BlogHeader.jpg"/></figure><h3>步骤2:配置Azure AD应用程序</h3><p>要使您的内部部署应用程序可通过Azure AD应用程序代理访问，它必须在Azure AD中注册。如果需要，此注册还允许您配置访问限制和单点登录(SSO)设置。</p><p>要注册该应用程序，请登录Azure AD门户并导航到Azure Active Directory &gt;企业应用程序。选择创建新的应用程序。</p><p>每个人的应用程序注册对于他们自己的环境都是独特的，但是以下几点提供了一些通用的指导:</p><ul><li>您可以使用“内部部署应用程序”选项之一创建应用程序，或者您可能已经配置了应用程序——在任何情况下，一旦您的应用程序配置完毕，您就可以在应用程序注册后的“应用程序代理”部分找到所有重要选项</li><li>内部URL指的是应用程序的内部可访问地址，例如，如果您登录到连接器服务器，并试图从该服务器访问您的本地应用程序</li><li>预身份验证(使用Azure AD进行身份验证)允许您使用附加功能，如条件访问和MFA如果您使用此选项，您的用户帐户必须存在于Azure AD中，或者从内部同步到Azure AD</li><li>直通身份验证意味着用户不会首先在Azure AD进行身份验证，而是所有身份验证将由应用程序在内部处理</li></ul><p>一旦您的应用程序被注册，确保您已经配置了用户访问。您可以允许所有用户或仅选择用户访问您的应用程序。这是通过注册的应用程序在“用户和组”部分中配置的。</p><h3>步骤3:测试远程访问</h3><p>在进行任何额外的配置之前，我建议您使用这些基本设置来测试应用程序现在是否可以像预期的那样远程工作。</p><p>您可以在已注册应用程序的“应用程序代理”设置中使用“测试应用程序”功能。在本节中，您还将找到您的“外部URL ”,您可以使用它来执行测试并确保访问正常工作。</p><hr class="wp-block-separator"/><p class="has-text-align-center"><strong>千里之行始于SQL步骤</strong></p><p class="has-text-align-center"><em> <a href="https://acloudguru.com/pricing" target="_blank" rel="noreferrer noopener">立即在ACG开始免费试用</a>，通过我们的一系列Azure data cert课程、SQL课程、动手实验室和其他出色的学习功能加快您的职业发展。不确定从哪里开始？我们将一步一步地指导您掌握在我们的学习道路上前进所需的知识和技能。无论你在旅途中的哪个地方，请通过我们的原创系列<a href="https://acloudguru.com/videos/azure-this-week" target="_blank" rel="noreferrer noopener"> Azure This Week </a>了解最新的Azure新闻。</em></p><hr class="wp-block-separator"/><h3 id="h-step-4-configure-sso-and-additional-features">步骤4:配置SSO和其他功能</h3><p>您现在已经成功配置了Azure AD应用程序代理来为您的用户提供远程访问。在这个阶段，您可能已经拥有了您需要的一切，但是值得注意的是，您可以配置不同的场景和附加功能。例如:</p><ul><li>使用受支持的身份验证方法之一进行单点登录:<ul><li>导航到您注册的应用程序中的“单点登录”设置</li><li>配置您的应用程序使用的身份验证方法</li></ul></li><li>条件接收<ul><li>配置条件访问策略，为您的内部应用程序启用细粒度的身份验证要求</li><li>请注意，这受Azure AD Premium P1授权支持，并且您必须使用Azure AD预身份验证方法</li></ul></li><li>自定义域和SSL<ul><li>如果你有一个为Azure AD注册的自定义域，你可以将你注册的应用程序的“外部URL”更改为更加用户友好的名称</li><li>如果使用SSL，您还可以在Azure AD中上传已注册应用程序的SSL证书，并进一步保护应用程序访问</li></ul></li></ul><p>无论您是通过MyApps门户为用户提供集中的应用程序访问，还是直接使用外部URL，我们的远程用户现在都可以访问本地应用程序，所有这些都增加了Azure AD的安全性。</p><p>如果你想了解更多关于Azure广告的其他功能，或者你想观看Azure广告应用程序代理设置演示，那么你可能会发现<a href="https://learn.acloud.guru/course/az-305-designing-microsoft-azure-infrastructure-solutions/overview" target="_blank" rel="noreferrer noopener">我的AZ-305课程很有用</a>。</p><p>在云专家这里查看一下吧。我浏览了Azure AD、各种各样的Azure服务、应用程序安全性和大量其他内容，以帮助您为Azure设计解决方案！</p><figure class="wp-block-image"><img loading="lazy" alt=""/></figure></div></div>    
</body>
</html>