<html>
<head>
<title>How to deploy a custom domain with the Amplify Console | A Cloud Guru</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1>如何使用Amplify控制台|云专家部署自定义域</h1>
<blockquote>原文：<a href="https://acloudguru.com/blog/engineering/how-to-deploy-a-custom-domain-with-the-amplify-console#0001-01-01">https://acloudguru.com/blog/engineering/how-to-deploy-a-custom-domain-with-the-amplify-console#0001-01-01</a></blockquote><div><div class="elementor-widget-container"><h3 id="eb31">什么是Amplify控制台？</h3><p id="41f4">Amplify控制台通过持续的基于Git的部署为<a href="https://acloudguru.com/course/building-a-full-stack-serverless-application-on-aws">全栈无服务器web应用</a>提供托管。连接Github repo，单击deploy，应用程序就部署到一个活动的URL上了。</p><p id="c9f7">内置的原子部署通过确保web应用仅在整个部署完成时更新，消除了维护窗口。</p><p id="2c07">如果您正在启动一个带有Amplify后端的项目，控制台还会为您提供部署和维护Amplify项目的选项。</p><h3 id="e905">添加自定义域</h3><p id="5d37">部署应用程序后，下一步是将应用程序部署到通过GoDaddy或Google Domains等域名注册商购买的自定义域名。</p><p id="3337">当您最初使用Amplify控制台部署web应用程序时，它托管在如下位置:</p><pre class="wp-block-code"><code>https://branch-name.d1m7bkiki6tdw1.amplifyapp.com</code></pre><p>当您使用自定义域时，用户将能够轻松访问您的应用程序，该应用程序由一个虚拟URL托管，如下所示:</p><pre class="wp-block-code"><code>https://www.myawesomedomain.com</code></pre><p id="5639">让我们来学习如何做到这一点！</p><h3 id="8ddc"><strong>在Amplify控制台中启动应用程序</strong></h3><p id="4418">如果您已经在Amplify控制台中启动了一个应用程序，您可以跳过这一步，直接进入下一步—添加自定域。</p><p id="1411">还有现成的盖茨比博客可以快速上手。只需点击<a href="https://console.aws.amazon.com/amplify/home#/deploy?repo=https://github.com/gatsbyjs/gatsby-starter-blog" target="_blank" rel="noreferrer noopener">这里</a>，然后跳到下一步添加自定义域。</p><p id="6014">要部署GitHub帐户中已有的应用程序，让我们在Amplify控制台中启动一个新的应用程序。第一步是将您的浏览器指向<code><a href="https://console.aws.amazon.com/amplify" target="_blank" rel="noreferrer noopener">https://console.aws.amazon.com/amplify</a></code>并点击<strong>部署</strong>部分下的<strong>开始</strong>。</p><p id="1cb6">接下来，连接您想要启动的Git存储库并选择分支，然后点击<strong> Next </strong>。接受默认的构建设置，然后点击<strong>保存并部署</strong>。</p><p id="4bbb">现在您的应用程序已经启动，我们可以继续在自定义域中设置它了。</p><h3 id="b2b2">添加自定义域</h3><p id="10ee">在AWS仪表板中，转到53号公路并点击<strong>托管区域</strong>。选择<strong>创建托管区域</strong>。从那里，输入你的域名&amp;点击<strong>创建</strong>。</p><p id="342d"><strong> ProTip </strong>:一定要按原样输入你的域名，不带www。例如<code>myawesomedomain.com</code></p><p id="d62e">现在，在Route53 dashboard中，您应该有4个域名服务器。</p><p id="6801">在你的托管账户(GoDaddy，谷歌域名等..)，在您正在使用的域的DNS设置中设定这些自定名称服务器。</p><figure class="wp-block-image size-large"><img loading="lazy" src="../Images/1d7b5d00892172a30a6f50d175dea275.png" alt="Choose your nameserver type in Route53 dashboard. " class="wp-image-42064" data-original-src="https://acg-wordpress-content-production.s3.us-west-2.amazonaws.com/app/uploads/2020/12/1_7YSkQd-PfhNzSE6j15jpXQ.png"/></figure><blockquote class="wp-block-quote"><p><em>这些域名服务器应该看起来像ns-1355.awsdns-41.org、ns-1625.awsdns-11.co.uk等……</em></p></blockquote><p id="86a0">接下来，在Amplify控制台中，点击左侧菜单中的<strong>域管理</strong>。接下来，点击<strong>添加域名</strong>按钮。</p><p id="d310">在这里，下拉菜单应该显示您在<a href="https://acloudguru.com/hands-on-labs/managing-dns-records-with-aws-route-53"> AWS Route 53 </a>中的域名。选择本域&amp;点击<strong>配置域</strong>。</p><p id="9c01">这应该会将应用程序部署到您的域中(这将需要5-20分钟)。最后一件事是设置重定向。点击<strong>重写&amp;重定向</strong>。</p><p id="ad62">确保域的重定向如下所示(即，将https://websitename重定向到https://www.websitename):</p><figure class="wp-block-image size-large"><img loading="lazy" src="../Images/d34ff6968d595bba7f84b9fd00404f09.png" alt="Set up rewrites and redirects on Amplify Console. " class="wp-image-42062" data-original-src="https://acg-wordpress-content-production.s3.us-west-2.amazonaws.com/app/uploads/2020/12/0_fxO4JH2VxDp4i2P5.png"/></figure><p>就是这样！一旦DNS开始传播，您应该会看到您的域名位于您在上述步骤中设置的URL上。</p><hr class="wp-block-separator is-style-wide"/><h2 class="has-text-align-center" id="h-get-the-skills-you-need-for-a-better-career">获得更好职业所需的技能。</h2><p class="has-text-align-center">掌握现代技术技能，获得认证，提升您的职业生涯。无论您是新手还是经验丰富的专业人士，您都可以通过实践来学习，并在ACG的帮助下推进您的云计算职业生涯。</p><hr class="wp-block-separator is-style-wide"/><p><em>我的名字是</em> <a href="https://twitter.com/dabit3" target="_blank" rel="noreferrer noopener"> <em>纳德达比特</em> </a> <em>。我是亚马逊网络服务的一名开发人员，负责类似于</em><a href="https://aws.amazon.com/appsync/" target="_blank" rel="noreferrer noopener"><em>AWS app sync</em></a><em>和</em><a href="https://aws-amplify.github.io/" target="_blank" rel="noreferrer noopener"><em>AWS Amplify</em></a><em>的项目。我专门从事跨平台&amp;云应用开发。</em></p></div></div>    
</body>
</html>