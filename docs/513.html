<html>
<head>
<title>Kubernetes is deprecating Docker: What you need to know | A Cloud Guru</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1>Kubernetes不同意Docker的观点:你需要知道的|云专家</h1>
<blockquote>原文：<a href="https://acloudguru.com/blog/engineering/kubernetes-is-deprecating-docker-what-you-need-to-know#0001-01-01">https://acloudguru.com/blog/engineering/kubernetes-is-deprecating-docker-what-you-need-to-know#0001-01-01</a></blockquote><div><div class="elementor-widget-container"><h4 id="h-kubernetes-is-deprecating-docker">忽必烈是掠夺码头吗？！</h4><p>一段时间以来，似乎当人们想到集装箱时，他们会想到<a href="https://acloudguru.com/course/introduction-to-containers-and-docker"> Docker </a>和<a href="https://acloudguru.com/course/kubernetes-deep-dive"> Kubernetes </a>。在构建和运行容器方面，Docker是大名鼎鼎的，而在管理和编排容器方面，Kubernetes是大名鼎鼎的。听到Kubernetes从Kubernetes 1.20版开始不再支持Docker作为容器运行时，可能有点令人震惊。</p><hr class="wp-block-separator"/><p class="has-text-align-center"><strong>加速您的云计算职业生涯</strong></p><p class="has-text-align-center">云专家让你轻松(也很棒)提升你的云事业——即使你对技术完全陌生。查看<a href="https://acloudguru.com/blog/news/whats-free-at-acg" target="_blank" rel="noreferrer noopener"> ACG目前的免费课程</a>或<a href="https://acloudguru.com/pricing">立即开始</a>免费试用。</p><hr class="wp-block-separator"/><p>所以，我想借此机会谈谈这一变化到底意味着什么，以及Kubernetes用户需要为此做些什么。</p><figure class="wp-block-embed is-type-video is-provider-youtube wp-block-embed-youtube wp-embed-aspect-16-9 wp-has-aspect-ratio"><p class="wp-block-embed__wrapper">Docker有什么变化？</p></figure><p>Kubernetes对Docker的贬低实际上并没有听起来那么严重，所以我们来谈谈这里到底发生了什么。</p><h2 id="h-what-s-changing-with-docker">Kubernetes正在移除对Docker作为<strong>容器运行时</strong>的支持。Kubernetes实际上并不处理在机器上运行容器的过程。相反，它依赖于另一个叫做<strong>容器运行时</strong>的软件。</h2><p>容器运行时在主机上运行容器，Kubernetes告诉每个主机上的容器运行时做什么。实际上，在运行Kubernetes时，您可以从各种选项中选择想要使用的容器运行时软件。到目前为止，一个相当流行的选择是使用Docker作为容器运行时。</p><p>然而，这在未来将不再是一个选项。您仍然可以以与Kubernetes相关的其他方式使用Docker(稍后会详细介绍)，但是您将无法使用Docker作为Kubernetes下的容器运行时。</p><p>为什么是库伯勒掠夺码头？</p><p>到目前为止，Kubernetes一直支持使用Docker a容器运行时，那么他们为什么选择停止支持它呢？</p><h2 id="h-why-is-kubernetes-deprecating-docker">Kubernetes与所有容器运行时一起工作，这些容器运行时实现了一种称为<strong>容器运行时接口(CRI) </strong>的标准。这本质上是Kubernetes和容器运行时之间的一种标准通信方式，任何支持这种标准的运行时都会自动与Kubernetes一起工作。</h2><p>Docker没有实现容器运行时接口(CRI)。在过去，容器运行时没有太多好的选择，Kubernetes实现了Docker shim，这是一个附加层，用作Kubernetes和Docker之间的接口。然而，现在有大量的运行时可以实现CRI，Kubernetes保持对Docker的特殊支持不再有意义。</p><p><strong> <a href="https://get.acloudguru.com/kubernetes-azure-hashicorp-way-webinar"> Watch: Kubernetes + Azure，哈希公司之道</a> </strong> <br/>你有没有想过创造一种标准化的方式来安全地部署你的应用？在Azure上使用HashiCorp堆栈是一个很好的起点。查看<a href="https://get.acloudguru.com/kubernetes-azure-hashicorp-way-webinar" target="_blank" rel="noreferrer noopener">这个免费的点播网络研讨会</a>了解更多信息！</p><p>到底是怎么回事？</p><hr class="wp-block-separator"/><p class="has-text-align-center">要真正理解Kubernetes反对Docker的原因，我们需要更深入一点。</p><hr class="wp-block-separator"/><h2 id="h-what-s-really-going-on">我告诉你一个秘密:<strong> Docker实际上不是一个容器运行时</strong>！它实际上是一个工具集合，位于名为<strong> containerd </strong>的容器运行时之上。</h2><p>没错！Docker不直接运行容器。它只是在一个独立的底层容器运行时之上创建了一个更容易被人访问、功能更丰富的接口。当它作为Kubernetes的容器运行时，Docker只是介于Kubernetes和containerd之间的中间人。</p><p>然而，Kubernetes可以直接使用containerd作为容器运行时，这意味着在这个中间人角色中不再需要Docker。即使在一个Kubernetes生态系统中，Docker仍然可以提供很多东西。只是不特别需要它作为容器运行时。</p><p>Docker往前走的作用是什么？</p><p>尽管在Kubernetes中不需要Docker作为容器运行时，但它仍然可以在Kubernetes生态系统和您的工作流中发挥作用。</p><h2 id="h-what-s-the-role-of-docker-going-forward">Docker作为开发和构建容器映像以及在本地运行它们的工具，仍然很强大。Kubernetes仍然可以运行使用Docker的<strong>开放容器倡议(OCI) </strong>图像格式构建的容器，这意味着您仍然可以使用Docker文件并使用Docker构建您的容器图像。</h2><p>Kubernetes也将继续能够从Docker注册中心(比如Docker hub)获取数据。这意味着，一旦构建了映像，Docker在管理映像方面仍将是一个强有力的竞争者。</p><p>总而言之，Docker将继续是您开发工作流和持续集成(CI)系统的有用工具，即使您在生产中不需要它来运行Kubernetes下的容器。</p><p><em>想获得K8s认证吗？阅读我们的<a href="https://acloudguru.com/blog/engineering/which-kubernetes-certification-path-should-i-take">Kubernetes认证之旅</a>蓝图。</em></p><p>集装箱和CRI-O:码头工人的替代品</p><hr class="wp-block-separator"/><p>如果您目前在Kubernetes环境中使用Docker作为容器运行时，您将需要做一些更改。接下来，您可以在您的Kubernetes环境中简单地消除Docker作为中间人的角色。相反，使用另一个容器运行时，如<a href="https://containerd.io/"> containerd </a>或<a href="https://cri-o.io/"> CRI-O </a>。</p><hr class="wp-block-separator"/><h2 id="h-containerd-and-cri-o-docker-alternatives">在升级到Kubernetes版本删除对Docker(目前估计在2021年末发布)的支持之前，您需要修改(或替换)现有的Kubernetes节点，以便它们使用受支持的容器运行时而不是Docker。从现在开始，您可能希望开始构建任何新节点，以便它们也使用非Docker容器运行时。</h2><p>除此之外，没有什么是真正改变的。您可以继续使用Docker构建您的映像，也可以出于开发目的在本地运行容器，或者在您的持续集成(CI)堆栈中运行容器。您也可以继续使用Docker注册表来存储和管理您的图像。</p><p>如果你有兴趣学习如何在Kubernetes旁边使用containerd，请查看我的新课程,<a href="https://acloud.guru/overview/introduction-to-kubernetes">Kubernetes简介</a>。它包含的课程将引导您完成在Kubernetes集群中安装和使用containerd的过程。</p><p>掌握最受欢迎的Kubernetes技能</p><p>无论您是云新手还是经验丰富的专家，云专家都可以让您轻松(而且非常棒)地提升您的云职业生涯。查看<a href="https://acloudguru.com/blog/news/whats-free-at-acg"> ACG的免费课程</a>或立即开始免费试用。</p><hr class="wp-block-separator"/><h2 class="has-text-align-center" id="h-master-the-most-in-demand-kubernetes-skills">想要更多容器优点吗？看看这些:</h2><p class="has-text-align-center">A Cloud Guru makes it easy (and awesome) to level up your cloud career — whether you’re new to cloud or a seasoned pro. Check out <a href="https://acloudguru.com/blog/news/whats-free-at-acg">ACG’s free courses</a> or get started now with a free trial.</p><hr class="wp-block-separator"/><h4 class="has-text-align-center" id="h-want-more-container-goodness-check-these-out">Want more container goodness? Check these out:</h4></div></div>    
</body>
</html>