<html>
<head>
<title>How to build a self-driving robot race car | A Cloud Guru</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1>如何建造自动驾驶机器人赛车|云专家</h1>
<blockquote>原文：<a href="https://acloudguru.com/blog/engineering/how-i-built-an-autonomous-car-to-drive-awareness-for-women-who-code#0001-01-01">https://acloudguru.com/blog/engineering/how-i-built-an-autonomous-car-to-drive-awareness-for-women-who-code#0001-01-01</a></blockquote><div><div class="elementor-widget-container"><blockquote class="wp-block-quote"><p>“当你戴上头盔时，你是女人还是男人并不重要……重要的是你的能力、你的智慧和你的决心。”<br/> —米尔卡·达诺，职业赛车手</p></blockquote><p id="09ed">在最近的AWS re:Invent会议期间，我有机会在我们的展厅展位上展示威瑞森的云工程成果，并分享我对我们如何在AWS上开发和部署大规模解决方案的见解。</p><p id="85ba">作为会议体验的一部分，我们在<a href="https://acloudguru.com/"> A Cloud Guru </a>的朋友邀请我参加Robocar集会，这是一个为期两天的黑客马拉松，专注于深度学习、物联网和人工智能，以制造和比赛1/16比例的自动驾驶汽车。</p>  <p id="bcb7">在两天的时间里，我作为唯一的女性参与者与来自<a href="https://medium.com/u/73d9ee9c08c8?source=post_page-----bec91f94da91--------------------------------" target="_blank" rel="noreferrer noopener"> Capital One Tech </a>的<a href="https://medium.com/u/38d39dd90fdc?source=post_page-----bec91f94da91--------------------------------" target="_blank" rel="noreferrer noopener"> Anne-Jeanette </a>合作——定制并训练一辆比例模型自动驾驶汽车，以参加re:Invent赛道上的计时赛。</p><p id="7fee">经过几天12个小时的黑客攻击，我们制造了一辆具有竞争力的无人驾驶模型赛车，提高了对编码女性和AWS“我们动力技术”多样性项目的认识。</p><h2 id="fd1d">让你的机器人汽车启动并运行的步骤</h2>  <p id="6f2c">“驴车”是大多数新手使用的初始套件模型——它大约需要200美元，需要几个小时才能组装好。Donkey是支持自动驾驶汽车的Python库的名字。</p><blockquote class="wp-block-quote"><p><strong>为什么叫驴？</strong> <br/>驴是最早驯化的驮畜之一，它们的倔强是出了名的，而且它们是安全的。在汽车能够从城市的一边行驶到另一边之前，我们会推迟用某个天体来命名它。</p></blockquote><h3 id="d84b">第一步:制造汽车</h3><p id="8dcb">你将需要建立汽车底盘，然后配备树莓皮和相机。在<a href="http://docs.donkeycar.com/guide/build_hardware/" target="_blank" rel="noreferrer noopener"> donkeycar网站</a>上可以找到零件清单和说明——你可以打印零件，也可以选择购买。</p><p id="8dcb">制造一辆汽车——驴车——安装摄像头有点棘手，M2螺丝可以拧进塑料里，但有点难。我—docs.donkeycar.com</p><h3 id="8d55">步骤2:设置软件环境</h3><p id="95b1">首先，你需要在你选择的主机操作系统上安装64位版本的<a rel="noreferrer noopener" href="https://www.atlassian.com/git/tutorials/install-git" target="_blank"> git </a>和<a rel="noreferrer noopener" href="https://conda.io/miniconda.html" target="_blank"> miniconda Python 3.6 </a>。</p><p id="95b1"><a rel="noreferrer noopener" href="https://github.com/wroscoe/donkey/blob/master/docs/guide/install_software.md#install-donkeycar-on-mac" target="_blank">wroscoe/驴子—驴子—自动驾驶汽车—github.com</a></p><ul><li>首先，您需要git将repo和cd克隆到根文件夹中。</li></ul><pre class="wp-block-code"><code>git clone https://github.com/wroscoe/donkey
cd donkey</code></pre><ul><li>接下来，启动Anaconda管理系统。</li></ul><pre class="wp-block-code"><code>conda env create -f envs/mac.yml
source activate donkey</code></pre><ul><li>下面的<code>pip</code>命令用于安装Python包。在这种情况下，我们将使用它来安装TensorFlow一个由谷歌创建的开源机器学习库，用于分析从我们汽车的摄像头收集的图像和数据。</li></ul><pre class="wp-block-code"><code>pip install https://storage.googleapis.com/tensorflow/mac/cpu/tensorflow-1.3.0-py3-none-any.whl</code></pre><ul><li>我们还将使用<code>pip</code>来安装剩余的包。</li></ul><pre class="wp-block-code"><code>pip install -e .</code></pre><ul><li>最后，你需要创建汽车的数据路径。</li></ul><pre class="wp-block-code"><code>donkey createcar — path ~/d2</code></pre><p id="8bce">恭喜你！设置完成。</p><h3 id="7024">步骤3:配置树莓Pi</h3><p id="087c">在第一步中，您将树莓派和摄像头连接到汽车底盘上。此时，您的robocar应该已经完全组装好了。</p><p id="2452">在“ssh”到我们的pi之前，我们需要将SD卡制作成启动盘，这样它可以帮助启动pi。对于简单版本，您可以安装Etcher或Noobs——它们都提供了用于写入SD卡的图形界面实用程序。</p><p id="a0a8">对于像我这样喜欢命令行的开发人员，打开终端窗口并键入:</p><pre class="wp-block-code"><code>diskutil list</code></pre><ul><li>找到你的SD卡的分区——它可能叫做<code>disk4</code></li><li>用您的SD卡磁盘名称替换<name of="" disk=""/></li></ul><pre class="wp-block-code"><code>diskutil unmountDisk /dev/&lt;name of disk&gt;</code></pre><p id="1984">现在我们需要<a href="https://www.dropbox.com/s/wiudnm2dcsvoquu/donkey_v22.img.zip?dl=0" target="_blank" rel="noreferrer noopener">下载donkeycar团队创建的方便的磁盘映像</a>。当前的版本是22，但是我建议查看donkeycar站点上的文档以获得最新版本。</p><ul><li>接下来，将下载映像安装到SD卡上。这可能需要一些时间，请耐心等待。</li></ul><pre class="wp-block-code"><code>sudo dd bs=1m if=&lt;image/path/image.img&gt; of=/dev/rdisk&lt;disk# from diskutil&gt; conv=sync</code></pre><ul><li>如果您的映像放在下载文件夹中，并且您的SD卡是disk4，则命令应该是:</li></ul><pre class="wp-block-code"><code>sudo dd bs=1m if=~/Downloads/donkey_v22/donkey_v22.img of=/dev/rdisk4 conv=sync</code></pre><h3 id="d1ab">ProTip</h3><blockquote class="wp-block-quote"><p>可以喝酒，可以自主驾驶！</p></blockquote>  <h3 id="9e50">步骤4:将您的pi连接到wifi</h3><p id="d0d3">为了将从Raspberry Pi收集的驾驶数据传输到您的本地主机上进行培训，我们需要确保这些设备在同一个wifi网络上。</p><p id="e14a">要设置wifi，需要在启动分区中安装一个文件，其中包含启动时连接网络所用的配置参数。</p><ul><li>确保您的SD卡仍处于连接状态。</li><li>在您的SD上，应该有一个/boot/目录。</li><li>在boot里面，会有一个wpa_supplicant.conf文件。</li><li>打开您最喜欢的文本编辑器并添加您的网络设置。</li><li>我们在黑客马拉松中使用了下面的代码。确保添加您的网络名称和网络密码，并保留引号！</li></ul><pre class="wp-block-code"><code>country=US
ctrl_interface=DIR=/var/run/wpa_supplicant GROUP=netdev
update_config=1
network={
 ssid=”&lt;your network name&gt;”
 psk=”&lt;your password&gt;”
}</code></pre><ul><li>现在你可以把SD卡取出来插在你的树莓Pi上了。如果网络上只有一个树莓派，可以尝试用<code>ping raspberrypi.local</code>找到它的ip地址</li><li>在robocar拉力赛黑客马拉松上，这不是我们团队的最佳选择。我们必须将pi连接到外部监视器来找到它的ip地址。</li><li>如果您需要这样做，您在donkeycar映像文件版本22上的用户名和密码将是:</li></ul><pre class="wp-block-code"><code>Username: pi
Password: asdfasdf</code></pre><ul><li>登录后，输入<code>ifconfig wlan0</code>查看ip地址信息。</li><li>一旦你有了你的Raspberry Pi的IP地址，我们现在就可以ssh到我们的Pi。耶！</li></ul><pre class="wp-block-code"><code>ssh pi@&lt;your_pi_ip_address&gt;</code></pre><h3 id="614d">步骤5:配置pi</h3><p id="79a3">一旦您登录到您的Raspberry Pi，您就可以使用提供的模板，使用donkey CLI创建您的汽车了。</p><pre class="wp-block-code"><code>donkey createcar — template donkey2 — path ~/d2</code></pre><ul><li>将目录更改为您刚才指定的路径——在本例中是<code>/d2/</code></li></ul><pre class="wp-block-code"><code>cd ~/d2</code></pre><ul><li>最后，启动您的web服务器！</li></ul><pre class="wp-block-code"><code>python manage.py drive</code></pre><ul><li>如果成功，服务器将在<code>&lt;your car’s IP’s address&gt;:8887</code>运行，其中8887是我们的端口号。</li><li>为了让驾驶更容易，我们用手机连接到网络服务器。只要确保你的手机和你的树莓派连接在同一个wifi网络上。</li></ul><h3 id="3268">步骤6:获取数据并训练模型</h3><p id="b150">恭喜你。robocar现已安装完毕，您可以开始为您的汽车记录一些驾驶数据了——数据越多越好！一定要慢行；出于训练的目的，你想把最好的模型推到汽车上。</p><p id="e997">记录的数据由一个JPEG图像和一个相应的带有转向和油门信息的JSON文件组成。一旦您收集了数据，您将把数据传输到您的主机操作系统，以使用TensorFlow创建一个模型。</p><ul><li>从你的覆盆子里复制数据。</li></ul><pre class="wp-block-code"><code>rsync -r pi@&lt;your_pi_ip_address&gt;:~/d2/data/ ~/d2/data/</code></pre><pre class="wp-block-code"><code>python ~/d2/manage.py train — model ~/d2/models/myPilotName</code></pre><ul><li>完成后，将新的试点文件推送到您的车上。</li></ul><pre class="wp-block-code"><code>rsync -r ~/d2/models/ pi@&lt;your_ip_address&gt;:~/d2/models/</code></pre><ul><li>进入您的pi，用闪亮的新pilot文件启动您的服务器。</li></ul><pre class="wp-block-code"><code>python manage.py drive — model ~/d2/models/myPilotName</code></pre><ul><li>连接到您的web服务器，并通过从下拉列表中选择“本地角度”来开始使用试点文件。这将允许你控制速度和飞行员控制转向。</li></ul><h3 id="56c7">最后一步:庆祝！</h3><p id="80e2">恭喜你。你现在有了一辆自动驾驶汽车——尽管可能还不是很连贯。每次尝试后收集的数据越多，模型和自动驾驶就越好。</p><p id="49f7">对于更强大的模型训练，您可以使用部署为Docker容器的深度学习虚拟机在<a href="https://acloudguru.com/course/aws-certified-machine-learning-specialty"> AWS上训练您的模型——这是一种训练更高性能模型的更高级方法。</a></p><p id="318b">如果你去了AWS re:Invent并参加了机器人汽车拉力赛hackathon——你还会从沃纳·威格尔那里得到这个令人敬畏的奖品！</p>  <h3 id="edba">我们支持科技</h3><p id="b1ce">在Robocar Rally hackathon的一个挤满了100多名工程师的房间里，Anne-Jeanette和我是仅有的两位女性开发人员。我很感激我们有机会<a href="https://acloudguru.com/blog/news/a-cloud-guru-women-who-code-extend-partnership">代表编写</a>代码的女性，这要感谢一位云专家以及她们与AWS We Power Tech的合作——谢谢！</p>  <p id="2aea">在参加了黑客马拉松和会议之后，前进的道路看起来非常清晰。那些在技术领域代表性不足的人需要更多像Robocar拉力赛这样的机会——获得培训、会议和黑客马拉松的机会，这些机会提供了克服职业进入和发展障碍所需的高级技能。</p><p id="2aea"><a href="https://acloudguru.com/blog" target="_blank" rel="noreferrer noopener"> We Power Tech |一位云专家——一位云专家正在与AWS We Power Tech合作，希望看到一个各种肤色、性别、信仰、起源的技术未来…——info . A Cloud . Guru</a></p><p id="a225">AWS re:invent大会是一个与众多引领云计算未来的女性联系、交流和学习的绝佳机会。我很幸运能在像威瑞森这样的公司工作，领导们积极支持技术的多样性和包容性——看到这么多其他公司加入对话令人鼓舞。</p>  <p>一起，#WePowerTech！</p><hr class="wp-block-separator is-style-wide"/><h2 class="has-text-align-center" id="h-get-the-skills-you-need-for-a-better-career">获得更好职业所需的技能。</h2><p class="has-text-align-center">掌握现代技术技能，获得认证，提升您的职业生涯。无论您是新手还是经验丰富的专业人士，您都可以通过实践来学习，并在ACG的帮助下推进您的云计算职业生涯。</p><hr class="wp-block-separator is-style-wide"/></div></div>    
</body>
</html>