<html>
<head>
<title>ACID and AWS DynamoDB transactions: The ins and outs of all-or-nothing | A Cloud Guru</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1>ACID和AWS DynamoDB交易:全有或全无的来龙去脉</h1>
<blockquote>原文：<a href="https://acloudguru.com/blog/engineering/acid-aws-dynamodb-transactions#0001-01-01">https://acloudguru.com/blog/engineering/acid-aws-dynamodb-transactions#0001-01-01</a></blockquote><div><div class="elementor-widget-container"><p><span>有智慧的老</span> <span> <span>人</span> </span> <span>物种来历不明曾经</span> <a target="_blank" rel="noopener noreferrer" href="https://www.starwars.com/video/do-or-do-not"> <span>称</span> </a> <span>，“做。或者不要。没有尝试。”不管你是想让一个</span> <a target="_blank" rel="noopener noreferrer" href="https://what-if.xkcd.com/3/"> <span> 12，000磅重的</span> </a> <span> X翼从达戈巴沼泽中浮起，还是想编写要么全有要么全无的数据库云事务，这个明智的建议听起来都是正确的。有时候亲密并不能解决问题。</span></p><p>以网上金融交易为例。假设你欠你朋友昨天的午餐钱。你打开Venmo，找到你的朋友，键入“10”作为你想寄给他们的10美元，加上一个比萨饼表情符号，然后点击支付。但是，奇怪的是，你习惯在几秒钟后收到的通知并没有出现。出事了。那现在怎么办？你的10美元在电子以太中丢失了吗？你的朋友还会请你吃午饭吗？</p><p>在这种情况下，除非pizza-payback操作的所有部分都已完成，否则您不希望写入或更新任何内容。为此，我们可以求助于AWS DynamoDB事务。</p><h4>什么是DynamoDB事务？</h4><p>DynamoDB是亚马逊的可扩展NoSQL数据库服务。如果您曾经使用过DynamoDB，您可能已经注意到，当您需要在表内和跨表创建多个全有或全无操作时，事情变得复杂了。这也是为什么2018年末，亚马逊 <a target="_blank" rel="noopener noreferrer" href="https://aws.amazon.com/blogs/aws/new-amazon-dynamodb-transactions/"> <span>推出</span> </a> <span> DynamoDB交易。</span></p><p><span> DynamoDB事务用于</span> <span>支持需要全有或全无方法的任务关键型应用程序，</span> <span>即使系统出现中断</span> <span>。它们允许云工程师将复杂的业务逻辑实现到单个原子事务中，该事务可以由多个相关任务组成。这意味着它们对于处理订单履行和管理、处理</span> <span>金融交易，或者</span> <a target="_blank" rel="noopener noreferrer" href="https://aws.amazon.com/blogs/database/amazon-dynamodb-gaming-use-cases-and-design-patterns/"> <span>构建多人游戏</span> </a> <span>非常有用。</span></p><h4><span>酸:对人类有害，对交易有益</span></h4><p>如果说科幻小说和电子游戏教会了我们什么，那就是酸是有害的。当你从一个平台跳到另一个平台时，你不会想掉进去，如果你正在处理一个异种感染，你需要聪明地进行消灭，以免烧穿你的船或者你自己。但是在交易的世界里，酸是一个非常好的东西。</p><p>ACID事务的概念比DynamoDB事务早了几十年。但是DynamoDB事务可能是ACID事务。ACID是一个(awesome)缩写词，用于描述数据库事务的四个理想属性。</p><p><strong>原子:</strong> <span>每笔交易都被视为一个单元，不能部分完成——这是它们全有或全无的关键因素。</span></p><p><strong>一致:</strong> <span>交易有效，必须以有效状态离开数据库。这可以防止数据库被破坏或遭受数据完整性问题。</span></p><p><strong>孤立:</strong> <span>不同的事务并不相互依赖。即使它们被并行或顺序处理，最终事务的效果是一样的。</span></p><p><strong>持久:</strong> <span>已提交的事务将保持提交状态，因为数据被写入磁盘，而不只是保存在内存中。因此，即使系统出现故障，如断电，也不会出现故障。</span></p><h4><span> DynamoDB交易进行中</span></h4><p><span>回到我们之前的pizza-return案例，您可以看到为什么ACID事务对于成功使用云至关重要。涉及到几乎同时发生的多个步骤。</span></p><p><span>接收转账请求→验证发起账户有足够资金→借记发起账户→贷记接收账户</span></p><p>这些步骤几乎同时发生，需要全有或全无的执行。这就是为什么ACID交易对于成功使用云至关重要——对于偿还你的披萨债务也是如此。</p><p><span>您可以在我们的</span> <a href="https://acloud.guru/learn/aws-certified-developer-associate-june-2018" rel="noopener noreferrer" target="_blank"> <span> AWS认证开发者助理课程</span> </a> <span>中了解更多关于</span> <a href="https://acloud.guru/course/aws-certified-developer-associate-june-2018/learn/0bbc19b0-c575-fd62-13a5-5e2297a80a6b/6054533a-e01e-0d47-e6ba-c8d2c52a05c2/watch" rel="noopener noreferrer" target="_blank"> <span> DynamoDB事务</span> </a> <span>。</span></p></div></div>    
</body>
</html>