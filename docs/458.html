<html>
<head>
<title>Ansible vs Puppet: Which is right for you? | A Cloud Guru</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1>Ansible vs Puppet:哪个适合你？|云专家</h1>
<blockquote>原文：<a href="https://acloudguru.com/blog/engineering/ansible-vs-puppet-which-is-right-for-you#0001-01-01">https://acloudguru.com/blog/engineering/ansible-vs-puppet-which-is-right-for-you#0001-01-01</a></blockquote><div><div class="elementor-widget-container"><p>作为DevOps工程师、系统管理员和开发人员，我们经常需要在一致的、可重复的服务器上工作。特别是对于DevOps工程师和管理员来说，他们可能要管理数千台服务器，他们需要进行更改，并以一致的配置一次配置多台服务器，这是最重要的，而且我们基础架构的可靠性往往取决于此。</p><p>这个问题的答案以无数配置管理平台的形式出现，这些平台让我们定义我们想要的配置任务或最终状态，然后使用这些定义在运行它们的任何服务器上进行一致的更改。其中两个平台是<a href="https://acloudguru.com/course/ansible-quick-start"> Ansible </a>和<a href="https://acloudguru.com/course/puppet-quick-start"> Puppet </a>。</p><figure class="wp-block-table is-style-stripes"><table><tbody><tr><td><strong>可回答的</strong></td><td><strong>木偶</strong></td><td><strong>写于</strong></td></tr><tr><td>计算机编程语言</td><td>Ruby，C++，Clojure</td><td><strong>架构</strong></td></tr><tr><td>控制节点；SSH上的无客户端</td><td>服务器/客户端，其中客户端必须得到服务器的批准</td><td><strong>安装过程</strong></td></tr><tr><td>仅安装在控制节点上</td><td>较长的安装过程；安装在服务器和客户端上的软件包</td><td><strong>配置管理语言</strong></td></tr><tr><td>亚姆</td><td>PuppetDSL，带有YAML数据存储</td><td><strong> CM语言风格</strong></td></tr><tr><td>程序的</td><td>宣言的</td><td><strong>易用性</strong></td></tr><tr><td>现有YAML知识有帮助；剧本是以面向用户的方式编写的</td><td>PuppetDSL基于Ruby，但却是自己的领域特定语言；Puppet更面向系统</td><td><strong>可扩展</strong></td></tr><tr><td>是的，在任何可以输出JSON的语言中</td><td>是的，用红宝石</td><td><strong>特性</strong></td></tr><tr><td>资源调配、配置管理、应用部署、持续交付、流程编排、自动化</td><td>资源调配、配置管理、补救、协调、自动化、事件驱动的自动化、法规遵从性</td><td>一目了然</td></tr></tbody></table></figure><h2 id="h-ansible-at-a-glance">Ansible是一个配置管理、云供应和应用程序部署工具，用Python编写，由Red Hat维护。对于配置管理，用户编写<a href="https://acloudguru.com/course/ansible-playbooks-deep-dive">基于YAML的任务列表，称为“剧本”，</a>描述配置服务器相关部分的步骤。</h2><p>Ansible不需要在我们配置的服务器上下载额外的包，只需要将Ansible安装在它的控制节点上——这是我们的Ansible剧本和模块的主要来源。</p><p>为了管理我们的基础设施，我们将创建清单文件，这是包含我们所需服务器的DNS或IP信息的简单列表，Ansible使用SSH来访问这些服务器，并在我们的行动手册运行时进行更改。</p><p>Ansible是可扩展的，用户也可以编写自己的模块，这些模块提供了可以在剧本中使用的功能。虽然Python <em>是Ansible的母语，但为了使用方便，这些模块可以用任何支持JSON的语言编写。</em></p><p>Ansible是开源的，虽然是一个企业产品，Ansible Tower，它增加了仪表板、基于角色的访问控制(RBAC)、作业调度、集成通知和图形化库存管理。</p><p>木偶一瞥</p><h2 id="h-puppet-at-a-glance">Puppet是一个用C++、Clojure和Ruby编写的自动化和配置管理平台，由Puppet，Inc. <a href="https://acloudguru.com/blog/engineering/how-to-get-rid-of-configuration-drift-with-puppet">维护。配置管理</a>以声明的方式完成，其中用户通过基于Ruby的PuppetDSL描述所需的最终状态。</h2><p>Puppet是幂等的，manifests可以写成跨平台的。这些结束状态描述然后被映射到运行“pupept-agent”服务的批准的服务器。</p><p>与Ansible不同，Puppet使用客户机-服务器架构，您需要在Puppet管理的任何服务器上安装Puppet代理。然后，客户机服务器必须在Puppet服务器上被接受，Puppet服务器是我们管理Puppet(以及Puppet执行下的服务器)的主要服务器。</p><p><em> <strong>使用Puppet却不想自己编写模块？</strong>T3】</em></p><hr class="wp-block-separator is-style-default"/><p class="has-text-align-center"><em>尝试使用<a href="https://acloudguru.com/hands-on-labs/using-modules-from-the-puppet-forge"> Puppet Forge </a>的动手实验室，这是一个由PuppetLabs托管的在线存储库，存储在Puppet基础设施中使用的公共模块。</em></p><p class="has-text-align-center">Puppet也是可扩展的，尽管您将在Ruby中实现这一点。</p><hr class="wp-block-separator"/><p>Puppet有一个开源产品，但是<a href="https://acloudguru.com/hands-on-labs/installing-puppet-enterprise"> Puppet Enterprise </a>增加了广泛的仪表板、RBAC、云供应和合规性。</p><p>比较Puppet和Ansible:它们有什么不同？</p><h2 id="h-comparing-puppet-vs-ansible-how-are-they-different">哪种解决方案最适合您(如果有！)最终取决于你的目标。</h2><p>易用性</p><h3 id="h-ease-of-use">Ansible的设置很快，行动手册是用熟悉的用户友好语言YAML编写的。这意味着用户通常可以比Puppet更快地掌握它，PuppetDSL使用了一种与Ruby相近的语言。由于其客户端-服务器架构，Puppet的设置速度也较慢，并且需要花费时间来批准任何受管节点(或者自动批准节点)。</h3><p>灵活性</p><h3 id="h-flexibility">但是速度和易用性并不是我们在选择配置管理平台时应该考虑的唯一方面。Puppet的清单有一个Ansible的剧本所没有的优势:Ansible的剧本本质上是一个必须按顺序运行的命令列表，Puppet的清单和模块是可重用的部分，可以按任何顺序运行，并且可以模块化使用。</h3><p>Puppet还每15分钟运行一次“puppet apply ”(或您设置的任何时间),确保您的服务器全天处于强制执行状态。这有助于Puppet不仅作为一个合规性审计工具工作，而且作为一个合规性自动化工具工作。</p><p>平台成熟度</p><h3 id="h-platform-maturity">Puppet也有成熟的好处:Puppet比Ansible大七岁。然而，Ansible有Red Hat的支持，而Puppet由它自己的私人公司所有——作为一个Puppet用户，我发现这是一件喜忧参半的事情。</h3><p>Ansible长期以来有一个明确的目标和精确的实现:在离开一段时间后重新投入Ansible并不困难。然而，有时候感觉就像是一个傀儡用户站在不断变化的地面上。我开始用木偶3和木偶4来玩木偶。回到Puppet 6，没有使用过Puppet 5，感觉就像从头开始重新学习Puppet，这是我没有预料到的，也是其他配置管理平台没有的体验。</p><p>看看<a href="https://puppet.com/docs/puppet/5.5/type.html">木偶5.5 </a>和<a href="https://puppet.com/docs/puppet/6.22/type.html">木偶6.22 </a>之间的资源类型数量的差异就是证据——木偶5.5有48个，而木偶6.22和更高版本有12个。这并不意味着这些变化是不好的，但Puppet在其生命周期中已经发生了许多实质性的变化，人们可能会考虑到这些变化。</p><p>木偶和天使哪个更好？</p><div class="wp-block-image"><figure class="aligncenter"><a href="https://acloudguru.com/course/puppet-professional-certification-ppt206"><img loading="lazy" src="../Images/8cfdf490e124603d4feeeceb98f39ff2.png" alt="" data-original-src="https://res.cloudinary.com/acloud-guru/image/fetch/c_fill,f_auto,h_350,w_350/https://acloudguru-content-assets-production.s3-accelerate.amazonaws.com/1595904609576-Course%2520Artwork__ForWeb_Puppets.png"/></a><figcaption>Are you a Puppet pro? Get ready for the 206 Puppet Professional cert at ACG with <a href="https://acloudguru.com/course/puppet-professional-certification-ppt206">16 hands-on labs</a>.</figcaption></figure></div><h2 id="h-which-is-better-puppet-or-ansible">不可能说出哪个平台更好，您只能确定哪个平台更适合您的需求。除了考虑上述差异之外，在做出任何决定之前，一定要花时间亲自了解这两个平台。你也可以根据自己的需要考虑其他选择，比如厨师，盐，甚至Terraform。</h2><p>最终，这两个平台都是高度可扩展的，提供自动化和云供应功能，并提供广泛的企业产品和支持。Ansible的入门门槛较低，而Puppet的DSL可能需要更多的时间来学习，以换取强大的声明性语言。在启动和运行您的配置管理时，这两者都是强有力的候选者。</p><p>Elle Krout曾是多家公司的技术作家，在过渡到DevOps并成为技术培训师之前，技术作家不仅仅是写作。她已经在DevOps上编写并发布了超过11门课程，包括<a href="https://acloudguru.com/course/puppet-professional-certification-ppt206">木偶</a>、<a href="https://acloudguru.com/blog/engineering/getting-started-with-salt">盐</a>、YAML，以及她个人最喜欢的<a href="https://acloudguru.com/course/mastering-regular-expressions">正则表达式深潜</a>。</p><p><em>Elle Krout was a technical writer at various companies where technical writers do more than write before transitioning to DevOps and working as a technical trainer. She has written and released over eleven courses on DevOps, including <a href="https://acloudguru.com/course/puppet-professional-certification-ppt206">Puppet</a>, <a href="https://acloudguru.com/blog/engineering/getting-started-with-salt">Salt</a>, YAML, and her personal favorite, a <a href="https://acloudguru.com/course/mastering-regular-expressions">regular expressions deep dive</a>.</em></p></div></div>    
</body>
</html>