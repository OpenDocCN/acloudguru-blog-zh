<html>
<head>
<title>AWS IoT Greengrass Tips - Deployment and Troubleshooting | A Cloud Guru</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1>AWS物联网Greengrass提示-部署和故障排除|云专家</h1>
<blockquote>原文：<a href="https://acloudguru.com/blog/engineering/aws-greengrass-pro-tips#0001-01-01">https://acloudguru.com/blog/engineering/aws-greengrass-pro-tips#0001-01-01</a></blockquote><div><div class="elementor-widget-container"><p id="bdc6">AWS物联网Greengrass是一项了不起的技术:它将AWS云扩展到边缘，让我们能够构建跨云、边缘和本地计算的无服务器解决方案。</p><p id="d2d3">但是和任何新技术一样，它在某些方面仍然有点粗糙，而且不容易使用。虽然我们的AWS朋友们正在努力让它变得更加文明，但这里有<strong> 10个提示</strong>来帮助您现在就充分利用AWS Greengrass。快速参考:</p><ol><li>固定您的开发设置</li><li>Docker中的Greengrass:谨慎行事(用5个步骤让它运转起来)</li><li>基本故障排除提示—日志、部署和lambda位置等</li><li>检查连接</li><li>Lambda函数故障排除</li><li>进入Lambda容器</li><li>将您的Lambda命名为快乐故障排除</li><li>在本地绿草上快速修改Lambda代码</li><li>Lambda点播？λ长寿？都是！</li><li>使用系统管理绿草生命周期</li></ol><blockquote class="wp-block-quote"><p>这些都是专业建议，假设您对AWS Greengrass有基本的了解，包括一些实践经验。这些技巧最适合那些用AWS运行真实物联网项目的人。如果您是这项服务的新手，请将此加入书签，并在查看完<a href="https://docs.aws.amazon.com/greengrass/latest/developerguide/gg-gs.html" target="_blank" rel="noreferrer noopener"> Greengrass教程</a>和<a href="https://docs.aws.amazon.com/greengrass/latest/developerguide/gg-troubleshooting.html" target="_blank" rel="noreferrer noopener"> AWS Greengrass故障排除</a>后再回来。</p></blockquote><h2 id="4d5c">AWS物联网Greengrass的开发设置</h2><p id="8e22">有许多方法可以为不同的爱好建立一个开发环境——但是有些方法比其他方法更有效。对于第一个教程来说，通过AWS web控制台浏览绿草是不错的，但是在你订阅了几次之后，你会寻找更好的方法。</p><p id="47d2">我更喜欢老式的本地开发，我对GitOps和基础设施即代码非常狂热。这影响了我的设置:</p><p id="77bc">编辑器的选择，git，AWS CLI与命名配置文件之间跳转测试和生产帐户-所有运行在我的Mac上。绿草核心软件安装在一个流浪的虚拟机上；所有的先决条件和安装都编在一个文件夹中。</p><p id="77e1">我用<a href="http://greengo.io/" target="_blank" rel="noreferrer noopener"> greengo.io </a>操作绿草群作为代码。Greengo让我将整个组(核心、订阅、策略、资源等)定义为一个简单的YAML。然后按照定义在AWS中创建它，负责从本地代码在AWS中创建Lambda函数。它下载证书和配置文件，由于助手脚本，我将它们直接放入Greengrass VM。作为奖励，<code>greengo</code>还知道清理一切！</p><p id="7429">有了这些，我可以用我最喜欢的编辑器方便地编辑lambda函数和greengrass定义。我做出改变，更新，部署，清洗，重复。我用<code>vagrant ssh</code>跳转到Greengrasss VM上，通过日志检查greengrass的健康状况，启动/停止守护进程，探索它并使用下面描述的各种技巧。</p><p id="1a39">所有的工作都以代码的形式被捕获，被git跟踪，直接从我的笔记本电脑上传到GitHub，并且很容易复制。GitHub上有一个完整的代码示例——一个经过整理的AWS ML推理教程——供您查看和复制:<a href="https://github.com/dzimine/aws-greengrass-ml-inference" target="_blank" rel="noreferrer noopener">dz亚胺/AWS-green grass-ML-推论</a>。</p><p id="ba39">这个设置很适合我，但这当然不是唯一的方法。你可以用AWS 用三种常见的方法创建Lambda函数，并创造性地将它们扩展到你的Greengrass开发中。你可能会喜欢AmazonVM上的Cloud9 + Greengrass，正如Jan Metzner在re:Invent 2018的<a href="https://www.portal.reinvent.awsevents.com/connect/sessionDetail.ww?SESSION_ID=89681" target="_blank" rel="noreferrer noopener"> IOT402 Workshop </a>上演示的那样。</p><p id="83a6">如果你是CloudFormation模板的大师，看看优雅的<a href="https://github.com/Neosperience/GrassFormation" target="_blank" rel="noreferrer noopener"> GrassFormation </a>和随之而来的开发流程。无论你选择哪一个，先帮你自己一个忙——确定你的开发设置。</p><blockquote class="wp-block-quote"><p>2019年3月18日更新:AWS Greengrass <a href="https://aws.amazon.com/about-aws/whats-new/2019/03/aws-iot-greengrass-adds-new-connector-aws-iot-analytics-support-aws-cloudformation-templates-integration-fleet-indexing/" target="_blank" rel="noreferrer noopener">增加了对CloudFormation模板</a>的支持。这很棒，现在你可以直接使用它，或者使用你选择的工具，比如无服务器框架或者<a href="https://github.com/awslabs/aws-sam-cli" target="_blank" rel="noreferrer noopener"> SAM CLI </a>。</p></blockquote><h3 id="0d06">AWS Greengrass in Docker:谨慎行事</h3><p id="dcf8"><mark>我在Docker 1.7版正式支持之前管理Greengrass，用了几个Docker的招数:</mark> <mark> <code>devicemapper</code> </mark> <mark>存储驱动代替默认的</mark> <mark> <code>overlay2</code> </mark> <mark>，和</mark> <mark> <code>--privileged</code> </mark> <mark>标志。这很有效，而且对Greengrass的功能没有任何限制。</mark></p><p id="d3ee">但是随着Docker，Linux内核，和Greengrass的更新版本，它逐渐停止工作。我放弃了这个案子，但是你总是在<a href="https://github.com/dzimine/aws-greengrass-docker" target="_blank" rel="noreferrer noopener">GitHub–dz亚胺/aws-greengrass-docker </a>碰碰运气。</p><p id="46e5">现在我们可以在Docker容器中正式<a href="https://docs.aws.amazon.com/greengrass/latest/developerguide/run-gg-in-docker-container.html" target="_blank" rel="noreferrer noopener">运行AWS物联网Greengrass。这是一个很大的便利，但仔细观察就会发现它更多的是一个变通办法。诚然，让greengrass容器在docker容器中运行很困难，而且不太可能适合生产。所以AWS引入了一个配置选项，在容器外运行Lambdas，就像操作系统处理一样——基于每个lambda或每个组。</a></p><p id="694a">选择这个选项会带来<a href="https://docs.aws.amazon.com/greengrass/latest/developerguide/run-gg-in-docker-container.html" target="_blank" rel="noreferrer noopener">限制</a>:不支持连接器、本地资源访问和本地机器学习模型。嘿，损失不算大！连接器还处于起步阶段——就此而言，我更希望它们用于Lambdas和StepFunctions。</p><p id="2516">当lambdas作为操作系统进程运行时，它们可以访问任何本地资源，因此不需要配置本地资源。一个本地ML栈可以很容易地定制成你喜欢的Greengrass图像。</p><blockquote class="wp-block-quote"><p><strong>设计考虑<br/> </strong>这种方法的一个更大的问题是，总的来说，<a href="https://docs.aws.amazon.com/greengrass/latest/developerguide/lambda-group-config.html#lambda-containerization-considerations" target="_blank" rel="noreferrer noopener">Lambdas</a>的可选集装箱化，它嗅到了隐藏的依赖性——使东西变得脆弱。</p><p>物联网工作流是关于定义云中的部署，并将其推送到一系列设备。一些设备不支持容器化的Lambdas:无论是在Docker中运行的greengrass还是在没有容器化的受限操作系统上。从1.7版开始，Greengrass说“没问题，只要一个群体选择不进行容器化，它就会运行”。但是设备并不宣传它们的能力，也没有拒绝不受支持的群组部署的防护措施。关于在什么设备上运行什么组是安全的知识必须存在于系统之外，存在于设计者的头脑中——不可否认这不是最可靠的存储。</p><p>虽然为Lambda启用容器化在组定义中看似合理，但它可能会破坏部署或导致功能故障。更不用说使用和不使用容器化的运行代码在很多方面都有所不同——我确实遇到过只有在容器化时才会出现的奇怪的代码错误。</p><p>AWS文档警告<a href="https://docs.aws.amazon.com/greengrass/latest/developerguide/lambda-group-config.html#lambda-containerization-considerations" target="_blank" rel="noreferrer noopener">谨慎使用该选项</a>，并规定了在没有容器化的情况下运行可能值得权衡的用例。如果你想在Greengrass中采用Docker，我会推荐goling:放弃容器化，在开发和生产中使用Docker，使用相同的容器。</p></blockquote><h3 id="h-aws-greenhouse-in-docker-tutorial">Docker教程中的AWS温室</h3><p id="e688"><strong>Docker中Greengrass的5个步骤<br/> </strong>如果上述限制没有阻止你使用这种方法，下面是如何用5个简单的步骤在Docker中运行Greengrass:</p><p id="f916">1.从<a href="https://d1onfpft10uf5o.cloudfront.net/greengrass-core/downloads/1.7.1/aws-greengrass-docker-1.7.1.tar.gz" target="_blank" rel="noreferrer noopener">云前端获取包含Dockefile和其他工件的压缩报告。</a> <em>为什么不是GitHub？我可以把它克隆到我的GitHub上吗，或者说这是违反许可的吗？求AWS </em>。目前，CloudFront:</p><pre class="wp-block-code"><code>curl https://d1onfpft10uf5o.cloudfront.net/greengrass-core/downloads/1.7.1/aws-greengrass-docker-1.7.1.tar.gz | tar -zx</code></pre><p>2.用docker-compose构建docker图像</p><pre class="wp-block-code"><code>cd aws-greengrass-docker-1.7.1
PLATFORM=x86-64 GREENGRASS_VERSION=1.7.1 docker-compose build</code></pre><p>3.使用<code>greengo</code>创建组:将您的证书和配置放入<code>/certs/</code>和<code>/config</code>。或者死忠与AWS控制台，下载和整理的证书和配置。<strong>注意:</strong>部署必须让所有Lambdas选择出容器:或API、CLI或greengo.yaml定义中的<code>pinned=True</code>。</p><p>4.与坞站一起运行坞站-组合:</p><pre class="wp-block-code"><code>PLATFORM=x86–64 GREENGRASS_VERSION=1.7.1 docker-compose up</code></pre><p id="0d4d">5.利润。对于任何复杂的情况，比如需要ARM映像或不幸在Windows上运行——打开README.md，享受详细的说明。</p><p id="e181">你可能会问“为什么不在开发设置中使用Docker，而不是一个沉重的流浪虚拟机”？你可以:我有时自己做，就像开发的试验台。</p><p id="6213">但是对于生产就绪的物联网部署，我更喜欢最能代表目标部署的环境——GG Docker限制并不总是这样。</p><h3 id="4a22">AWS温室故障排除提示</h3><p id="e931">当出现问题时——很可能会出现——以下是需要检查的事项:</p><ol><li><strong>确认</strong> <code><strong>greengrassd</strong></code> <strong>已经启动</strong>。<br/>查找输出中的任何错误。</li></ol><pre class="wp-block-code"><code>/greengrass/ggc/core/greengrassd start</code></pre><p id="96fe">如果它没有启动，很可能错过了一些先决条件，您可以通过<code>greengrass-dependency-checker</code>脚本快速检查。你可以从<a href="https://github.com/aws-samples/aws-greengrass-samples" target="_blank" rel="noreferrer noopener">AWS-green grass-samples repo</a>获得最新版本的检查器。</p><p id="5863">还有<a href="https://aws.amazon.com/greengrass/device-tester/" target="_blank" rel="noreferrer noopener"> AWS设备测试器</a>，这是一个较重的选项，通常由设备制造商用来认证他们的设备是否支持Greengrass。</p><p id="8fb0"><strong> 2。检查系统日志是否有错误</strong>。<br/>看<code>/greengrass/ggc/var/log/system/</code>下，从<code>runtime.log</code>开始。AWS文档中描述了greengrass功能各个方面的其他日志<a href="https://docs.aws.amazon.com/greengrass/latest/developerguide/gg-troubleshooting.html#troubleshooting-logs" target="_blank" rel="noreferrer noopener">。我主要看<code>runtime.log</code>:</a></p><pre class="wp-block-code"><code>tail /greengrass/ggc/var/log/system/runtime.log</code></pre><p id="57d1">这有助于将日志设置为<code>DEBUG</code>级别(默认为<code>INFO</code>)。它是通过AWS控制台、CLI、API或<code>greengo</code>在Greengrass Group级别设置的。必须成功部署组才能应用新的日志配置。</p><p id="cf30">但是，如果我正在对初始部署中的故障进行故障排除，该怎么办呢？运气不好！有一个技巧是在本地伪造一个部署，其中只有一个日志配置，但这非常麻烦；在<code>config.json</code>文件中设置会好很多。请加入我对AWS的提问:</p>  <p id="56b0"><mark> <strong> 3。检查部署</strong> </mark> <mark> <br/>一旦您触发部署并达到“进行中”状态，当绿草握手、下载工件并重启子系统时，会在</mark> <mark> <code>runtime.log</code> </mark> <mark>中弹出一连串消息。部署工件本地存储在</mark> <mark> <code>/greengrass/ggc/deployment</code> </mark>:</p><ul><li><code>group/group.json</code>–部署定义。自己探索:</li></ul><pre class="wp-block-code"><code>cd /greengrass/ggc/deployment/group/
cat group.json |  python -m json.tool</code></pre><ul><li><code>/greengrass/ggc/deployment/lambdas</code>–lambda代码部署在这里。那里的内容是一个提取的Lambda zip包。就像在发布到AWS之前您的开发机器上有它一样。</li></ul><p id="e874"><strong>关键提示:</strong>这些人工制品是本地绿草获取的输入。玩弄它们是创造性地摆弄绿草的好方法。</p><blockquote class="wp-block-quote"><p>我热情地劝您在Lambda代码中编写一个深入的日志记录，并将系统和用户日志记录配置的日志级别设置为<code>DEBUG</code>。</p></blockquote><h2 id="cc09">检查温室部署和连接</h2><p id="188e">绿草守护进程启动，但没有任何反应。部署永远停留在“进行中”状态。怎么了？很有可能是连接问题。</p><p id="9f3b">Greengrass依靠MQTT(端口8883)进行消息传递，依靠HTTPS(端口443)下载部署工件。确保您的网络连接允许流量。</p><p id="3a73">检查HTTPS是显而易见的，下面是如何测试您的MQTT连接(<a href="https://docs.aws.amazon.com/iot/latest/developerguide/diagnosing-connectivity-issues.html:" target="_blank" rel="noreferrer noopener"> source </a>):</p><pre class="wp-block-code"><code>openssl s_client -connect \
YOUR_ENDPOINT.iot.eu-west-1.amazonaws.com:8883 \
-CAfile root.ca.pem \
-cert CERTIFICATE.pem \
-key CERTIFICATE.key</code></pre><p id="264f">这不是违背了目的吗？绿草公司需要HTTPS拿到部署神器。如果没有办法关掉8443，它应该如何工作？这个我没有实验过；如果您遭受过度安全的网络，请尝试并报告您的发现。</p><blockquote class="wp-block-quote"><p>2019年3月10日更新:AWS发布了<a href="https://docs.aws.amazon.com/greengrass/latest/developerguide/what-is-gg.html#gg-core-download-tab" target="_blank" rel="noreferrer noopener">版本1.8 </a>，上面有一个差异:现在你也可以配置HTTPS使用443。而且很管用！就在这一天，我碰巧遇到了防火墙的问题，应用了这个补丁，它真的很神奇。万岁！</p></blockquote><h2 id="1487">Lambda函数故障排除</h2><p id="e585">当部署成功，但似乎没有预期的事情发生时，就该看看Lambdas了。</p><p id="64fd">检查lambda函数是否正在运行:</p><pre class="wp-block-code"><code>ps aux | grep lambda_runtime</code></pre><p id="253d">查看Lambda日志:在<code>/greengrass/ggc/var/log/user/...</code>下潜水，直到找到它们。</p><p id="04cf">一个函数可能会在创建日志文件之前崩溃:例如，由于缺少依赖项或运行时配置错误等原因，核心甚至无法启动Lambda。</p><p id="1183">尝试手动运行lambda:现在您已经知道它在greengrass设备上的本地存储位置——是的，<code>/greengrass/ggc/deployment/lambdas/...</code> —去那里运行它，观察结果。</p><h2 id="1973"><strong>进入Lambda容器</strong></h2><p id="6eb6">Greenness在容器中运行lambdas(除非你<a href="https://docs.aws.amazon.com/greengrass/latest/developerguide/lambda-group-config.html#lambda-containerization-considerations" target="_blank" rel="noreferrer noopener">明确选择退出</a>)。因此，有时会发生这样的情况，当你在设备上手动启动时运行良好的功能，在greengrass下运行时仍然会失败。</p><p id="5d0d">找出你的lambda的PID，用<code>nsenter:</code>进入容器</p><pre class="wp-block-code"><code>sudo nsenter -t $PID -m /bin/bash</code></pre><p id="f263">现在，您处于Lambda函数的容器化环境中，可以看到和检查挂载的文件系统、对资源的访问、依赖性、环境变量——一切。</p><p id="5d93">这个技巧对于固定的(长寿命的)函数来说很简单，但是常见的事件触发的lambdas不会长到可以跳到它们的容器中:你可能需要临时固定它们才能进入。</p><p id="f85e">如果修改一个Greengrass组中的lambda定义，重新部署该组，并记住稍后切换回来感觉太麻烦，那么在设备上破解它:在<code>/greengrass/ggc/deployment/group</code>下的<code>group.json</code>的函数部分设置<code>pinned=True</code>，并重启<code>greengrassd</code>。下一次部署将重置您的本地黑客。</p><h2 id="1e3a">将您的Lambda命名为快乐故障排除</h2><p id="4ae9">Lambda函数和处理程序的命名约定是什么？我曾经调用我所有的lambda入口点<code>handler</code>并把它放在<code>function.py</code>文件中，就像这样:</p><pre class="wp-block-code"><code># MyHelloWorldLambda/function.py
def handler():
    return {'green': 'grass'}</code></pre><p>但是对运行Lambda函数的检查产生了如下输出:</p><pre class="wp-block-code"><code>ps aux | grep lambda_runtime
20170 ?        Ss     0:01 python2.7 /runtime/python2.7/lambda_runtime.py --handler=function.handler
20371 ?        Ss     0:01 python2.7 /runtime/python2.7/lambda_runtime.py --handler=function.handler</code></pre><p id="1e37">信息不太丰富，嗯？相反，考虑用Lambda函数名来命名处理程序或函数入口点，以获得更有洞察力的输出和更容易的故障排除。然后，为<strong> <em>提示5 </em> </strong>中的招数寻找Lambda进程PID将是轻而易举的事情。</p><h2 id="0665">在Greengrass上快速修改Lambda代码</h2><p id="76d4">greengrass goes的典型开发工作流程是什么？</p><ol><li>对Lambda函数进行更改</li><li>在本地测试</li><li>将该功能部署到AWS Lambda</li><li>更新/增加别名，并确保greengrass lambda定义指向这个别名</li><li>将群组部署到您的greengrass设备</li></ol><p id="17ea">完成这些步骤后，lambda就可以被调用了。这在将最终产品代码部署到一组现场设备时非常有用。</p><p id="ef80">但是在开发过程中，尤其是在调试过程中，我们经常需要尝试快速的代码更改，小到打印出一个值。整个工作流程感觉太长太麻烦了。当我们的AWS朋友满怀希望地致力于集成一个本地调试器时(为什么不呢？)，下面是我使用的一个快速破解方法:</p><ul><li>我<code>ssh</code>到我的流浪虚拟机与绿草核心</li><li>转到部署文件夹</li><li>找到有问题的lambda，并对其进行适当的编辑</li><li>重启<code>greengrassd</code>，并测试变化</li></ul><p id="f5f6">如果我不喜欢更新，下一次部署将恢复更改。如果我确实喜欢更新的，我会将功能代码复制到我的本地开发环境并进行部署。</p><p id="b05b">这里<a href="http://greengo.io/" target="_blank" rel="noreferrer noopener"> greengo.io </a>再次派上用场，处理繁琐的例程，如重新打包&amp;上传lambda，增加版本，更新别名，并将物联网lambda定义重新打印到正确的别名:所有这些都在一个简单的命令<code>greengo update-lambda MY_FUNCTION</code>之后</p><figure class="wp-block-image size-large"><img loading="lazy" src="../Images/b0287cba3c09d61bbcba573e1681f9c2.png" alt="" class="wp-image-41819" data-original-src="https://acg-wordpress-content-production.s3.us-west-2.amazonaws.com/app/uploads/2020/12/1_oMgjy2g4asy0gVfQiEBL-A.gif"/><figcaption>Update and deploy Lambda with greengo — quick and easy.</figcaption></figure><h2 id="360f">Lambda点播？λ长寿？都是！</h2><p id="9b36">AWS Greengrass支持Lambdas 的<a href="https://docs.aws.amazon.com/greengrass/latest/developerguide/lambda-functions.html#lambda-lifecycle" target="_blank" rel="noreferrer noopener">两种生命周期模型:“按需”和“长寿命”。</a></p><p id="af03"><strong> Lambda On-Demand <br/> </strong>默认行为是“On-Demand ”,与云中的Lambda相同——这是函数被事件调用的地方。</p><p id="e2af">要在MQTT事件上触发Greengrass的“按需”lambda，您需要在主题上配置一个订阅，将lambda函数作为目标。Greengrass将在每个主题消息上生成函数执行，将消息作为参数传递给函数处理程序，然后函数处理程序运行不超过配置的超时时间并关闭。变量和执行上下文不会在调用之间保留。</p><p id="f3f1">当Greengrass守护进程启动时，一个“长期”的函数启动，这允许我们“锁定”一个函数，使它长期运行。这是许多用例的福音，比如视频流分析，或者协议代理，其中函数监听来自BTLE或ZigBee设备的信号，并通过MQTT传输它们。</p><p id="6185">保守得最好的秘密？你可以两者结合。是的，一个长寿命的函数可以按需触发。我可以用它来做好事，比如在调用之间在内存中保持一个非临界状态。</p><p id="b234">例如:我的函数用PEWMA算法对设备数据流运行异常检测。它必须保留几个先前的数据点来计算平均值。这些数据必须在由数据消息触发的函数执行之间保持。</p><p id="1274">要实现这一点，请将“长期”与“按需”结合起来:</p><ol><li>配置一个订阅以在接收到设备数据时触发该函数:当消息到达时，greengrass忠实地调用带有数据有效负载的处理程序</li><li>让函数长期存在:现在我可以在处理程序调用之间将状态保存在内存中。如果Lambda重新启动并释放状态，这没关系:算法会很快恢复，所以真正的持久性不值得麻烦。</li></ol><p id="ed2b">完整的例子，请看一下我的Greengrass <a href="https://github.com/dzimine/gg-protocol-conversion" target="_blank" rel="noreferrer noopener"> IIoT原型</a>中的<a href="https://github.com/dzimine/gg-protocol-conversion/blob/master/lambdas/AnomalyCatcher/function.py" target="_blank" rel="noreferrer noopener"> AnomalyCatcher函数代码</a>。</p><p id="3e0d">记住，一旦Lambda被配置为“长期存在”，函数就不会并行运行:调用被排队，一次调用一个处理程序。检查它是否适合您的消息量，并注意您的处理程序代码，以免阻塞队列。</p><h2 id="d425">使用系统管理绿草生命周期</h2><p id="3cc1">当你的Greengrass设备重启时，你会希望greengrass自动启动，不是吗？除非你让它成为现实。使用systemd管理greengrass守护进程的生命周期。</p><p id="d059">您需要将<code>config.json,</code>中的<code>useSystemd</code>标志修改为true，并设置一个<a href="https://www.freedesktop.org/software/systemd/man/systemd.service.html" target="_blank" rel="noreferrer noopener"> systemd </a>脚本，就像这个简单示例中的那样:</p><pre class="wp-block-code"><code>[Unit]
Description=Greengrass Daemon
[Service]
Type=forking
PIDFile=/var/run/greengrassd.pid
Restart=on-failure
ExecStart=/greengrass/ggc/core/greengrassd start
ExecReload=/greengrass/ggc/core/greengrassd restart
ExecStop=/greengrass/ggc/core/greengrassd stop
[Install]
WantedBy=multi-user.target</code></pre><p>这里是关于树莓派的详细步骤说明。如果你的greengrass设备支持另一个init系统——比如upstart、SystemV或runit——查看手册并根据手册将<code>greengrassd</code>配置为守护进程。</p><hr class="wp-block-separator is-style-dots"/><p id="3b5d">我希望你喜欢我的10个绿草秘诀，并在你的物联网项目中好好利用它们。我费了些力气才弄明白:你的拍手声👏会是最好的回报。请务必访问<a href="https://docs.aws.amazon.com/greengrass/latest/developerguide/gg-troubleshooting.html" target="_blank" rel="noreferrer noopener"> AWS Greengrass故障排除</a>页面，并查看<a href="https://forums.aws.amazon.com/forum.jspa?forumID=254" target="_blank" rel="noreferrer noopener"> AWS物联网Greengrass论坛</a>了解更多信息。</p><h3 id="h-want-more-aws-goodness-check-these-out">想要更多AWS good？看看这些:</h3><hr class="wp-block-separator"/><p class="has-text-align-center"><em>想让您的云技能和知识更上一层楼吗？从云专家的课程和学习路径开始您的学习之旅！</em></p><hr class="wp-block-separator"/><p id="dc0d">请在这里为我们其他人添加<strong>你自己的建议</strong>。想了解更多关于物联网、DevOps和无服务器的故事和讨论，请在Twitter上关注我<a href="https://twitter.com/dzimine" target="_blank" rel="noreferrer noopener">@ dz亚胺</a>。</p></div></div>    
</body>
</html>