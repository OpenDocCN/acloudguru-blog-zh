<html>
<head>
<title>Networking services compared: AWS vs Azure vs Google Cloud | A Cloud Guru</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1>网络服务对比:AWS vs Azure vs Google Cloud</h1>
<blockquote>原文：<a href="https://acloudguru.com/blog/engineering/networking-services-compared-aws-vs-azure-vs-google-cloud#0001-01-01">https://acloudguru.com/blog/engineering/networking-services-compared-aws-vs-azure-vs-google-cloud#0001-01-01</a></blockquote><div><div class="elementor-widget-container"><p>在这篇文章中，我们的<a href="https://acloudguru.com/videos/cloud-provider-comparisons" target="_blank" rel="noreferrer noopener">云提供商比较系列</a>的一部分，我们来看看网络——将所有精彩的云服务连接在一起的主干——以及网络服务如何在不同的云提供商之间进行比较。我们将探索基本的网络、网关、对等和负载平衡器。我们开始吧！</p><hr class="wp-block-separator" id="block-54e868af-ff0f-4e59-9487-1fd74fbbdd2a"/><p class="has-text-align-center" id="h-your-keys-to-a-better-career"><strong>通往更好职业的钥匙</strong></p><p class="has-text-align-center"><a href="https://acloudguru.com/pricing">立即开始ACG </a>通过AWS、Microsoft Azure、Google Cloud等领域的课程和实际动手实验室来改变你的职业生涯。</p><hr class="wp-block-separator" id="block-da0c2ec3-2040-4ea3-978a-a2c48f63678b"/><h2 id="h-how-has-the-cloud-changed-networking">云如何改变了网络？</h2><p>自拨号上网时代以来，网络的基本原理多年来没有多大变化，但网络的实现方式却发生了很大变化。</p><p>自从拨号上网时代以来，它变得更加可靠，谢天谢地，速度也快多了。网络是资源和服务相互通信的方式。对于内部网络，我们必须部署和配置路由器、交换机和防火墙，应用固件更新和更换硬件是一项常见的工作。</p><p>但是云终结了这些任务。</p><p>虽然硬件不再是我们的问题，但网络仍然存在，我们仍然负责配置和保护它。</p><figure class="wp-block-embed is-type-video is-provider-youtube wp-block-embed-youtube wp-embed-aspect-16-9 wp-has-aspect-ratio"><p class="wp-block-embed__wrapper">什么是虚拟网络？</p></figure><p>让我们从基础开始，网络。Azure、谷歌云平台和亚马逊网络服务都提供了一个虚拟网络。可以把它想象成一个托管在云中的虚拟路由交换机。它是所有服务连接并用来相互通信的东西。</p><h2>在Azure中，虚拟网络被称为VNet。</h2><p>对于AWS和GCP，网络被称为虚拟私有云或VPC。</p><ul><li>在每种情况下，它们都有相似的功能。它们包含一个或多个子网，并允许资源和子网之间的通信。</li><li>网络基础</li></ul><p>每个云提供商都有区域的概念。区域是一个或多个数据中心的组合。将工作负载分散到多个区域通过在这些区域复制服务来提供高可用性。我们还可以将资源放在离客户更近的地方。</p><h2>Azure和AWS之间网络利用区域的方式相似，而GCP则不同。</h2><p>微软Azure</p><p>使用Azure，虚拟网络或VNet存在于一个区域中。子网被添加到VNet，并且资源被分配到该子网，默认情况下，VNet中的所有资源可以相互通信，包括不同子网上的资源。</p><h3>默认情况下，他们也可以访问互联网。为了连接到该子网，资源必须与Vnet位于同一区域。如果高可用性需要冗余，另一个虚拟网络将部署到不同的区域。</h3><p>自动警报系统</p><p>像Azure一样，VPC是在有AWS的地区创建的。AWS中的VPC使用可用性区域，这些区域是不同的位置，与另一个可用性区域中的故障隔离，子网存在于这些可用性区域中。</p><figure class="wp-block-image size-large"><img loading="lazy" src="../Images/0ace8a21f362ef7dc91a9a8df5c3e13f.png" alt="" class="wp-image-118665" srcset="https://res.cloudinary.com/acloud-guru/image/fetch/c_thumb,f_auto,q_auto,w_1253/https://acg-wordpress-content-production.s3.us-west-2.amazonaws.com/app/uploads/2022/03/azure-vnet-comparison-ACG.png 1253w, https://res.cloudinary.com/acloud-guru/image/fetch/c_thumb,f_auto,q_auto,w_300/https://acg-wordpress-content-production.s3.us-west-2.amazonaws.com/app/uploads/2022/03/azure-vnet-comparison-ACG.png 300w, https://res.cloudinary.com/acloud-guru/image/fetch/c_thumb,f_auto,q_auto,w_1024/https://acg-wordpress-content-production.s3.us-west-2.amazonaws.com/app/uploads/2022/03/azure-vnet-comparison-ACG.png 1024w, https://res.cloudinary.com/acloud-guru/image/fetch/c_thumb,f_auto,q_auto,w_768/https://acg-wordpress-content-production.s3.us-west-2.amazonaws.com/app/uploads/2022/03/azure-vnet-comparison-ACG.png 768w, https://res.cloudinary.com/acloud-guru/image/fetch/c_thumb,f_auto,q_auto,w_380/https://acg-wordpress-content-production.s3.us-west-2.amazonaws.com/app/uploads/2022/03/azure-vnet-comparison-ACG.png 380w" sizes="(max-width: 1253px) 100vw, 1253px" data-original-src="https://res.cloudinary.com/acloud-guru/image/fetch/c_thumb,f_auto,q_auto/https://acg-wordpress-content-production.s3.us-west-2.amazonaws.com/app/uploads/2022/03/azure-vnet-comparison-ACG.png"/></figure><h3>在AWS VPC中，有两种类型的子网，公共子网和私有子网。公共子网可以访问互联网，而私有子网则不能。</h3><p>默认情况下，AWS中所有连接到VPC的资源或实例都可以在VPC内通信。</p><p>谷歌云(GCP)</p><p>与AWS和Azure相比，GCP采用了一种不同的方法来与我们的全球VPC实现联网。</p><figure class="wp-block-image size-large"><img loading="lazy" src="../Images/46fd463008a96e5220891a2f14f5ab3e.png" alt="" class="wp-image-118666" srcset="https://res.cloudinary.com/acloud-guru/image/fetch/c_thumb,f_auto,q_auto,w_1251/https://acg-wordpress-content-production.s3.us-west-2.amazonaws.com/app/uploads/2022/03/aws-vpc-comparison-ACG.png 1251w, https://res.cloudinary.com/acloud-guru/image/fetch/c_thumb,f_auto,q_auto,w_300/https://acg-wordpress-content-production.s3.us-west-2.amazonaws.com/app/uploads/2022/03/aws-vpc-comparison-ACG.png 300w, https://res.cloudinary.com/acloud-guru/image/fetch/c_thumb,f_auto,q_auto,w_1024/https://acg-wordpress-content-production.s3.us-west-2.amazonaws.com/app/uploads/2022/03/aws-vpc-comparison-ACG.png 1024w, https://res.cloudinary.com/acloud-guru/image/fetch/c_thumb,f_auto,q_auto,w_768/https://acg-wordpress-content-production.s3.us-west-2.amazonaws.com/app/uploads/2022/03/aws-vpc-comparison-ACG.png 768w, https://res.cloudinary.com/acloud-guru/image/fetch/c_thumb,f_auto,q_auto,w_380/https://acg-wordpress-content-production.s3.us-west-2.amazonaws.com/app/uploads/2022/03/aws-vpc-comparison-ACG.png 380w" sizes="(max-width: 1251px) 100vw, 1251px" data-original-src="https://res.cloudinary.com/acloud-guru/image/fetch/c_thumb,f_auto,q_auto/https://acg-wordpress-content-production.s3.us-west-2.amazonaws.com/app/uploads/2022/03/aws-vpc-comparison-ACG.png"/></figure><h3>顾名思义，全球VPC跨越多个地区，不与任何特定地区相关联。这是一种全球资源。创建全球VPC网络时，系统会在每个GCP地区创建子网。子网是特定于区域的。</h3><p>默认情况下，所有实例(例如虚拟机)都可以在网络中相互通信。</p><p>对等和网关</p><p>现在我们已经了解了每个提供商的网络和子网，让我们看看如何连接它们，以便我们可以在服务中的不同VPC和Vnets之间进行通信。毕竟，如果我们不能与云服务交流，云服务就没有那么有用。</p><figure class="wp-block-image size-large"><img loading="lazy" src="../Images/e471b691fc1fba5e04d6dac991b86f56.png" alt="" class="wp-image-118667" srcset="https://res.cloudinary.com/acloud-guru/image/fetch/c_thumb,f_auto,q_auto,w_1255/https://acg-wordpress-content-production.s3.us-west-2.amazonaws.com/app/uploads/2022/03/GCP-networking-comparison-ACG.png 1255w, https://res.cloudinary.com/acloud-guru/image/fetch/c_thumb,f_auto,q_auto,w_300/https://acg-wordpress-content-production.s3.us-west-2.amazonaws.com/app/uploads/2022/03/GCP-networking-comparison-ACG.png 300w, https://res.cloudinary.com/acloud-guru/image/fetch/c_thumb,f_auto,q_auto,w_1024/https://acg-wordpress-content-production.s3.us-west-2.amazonaws.com/app/uploads/2022/03/GCP-networking-comparison-ACG.png 1024w, https://res.cloudinary.com/acloud-guru/image/fetch/c_thumb,f_auto,q_auto,w_768/https://acg-wordpress-content-production.s3.us-west-2.amazonaws.com/app/uploads/2022/03/GCP-networking-comparison-ACG.png 768w, https://res.cloudinary.com/acloud-guru/image/fetch/c_thumb,f_auto,q_auto,w_380/https://acg-wordpress-content-production.s3.us-west-2.amazonaws.com/app/uploads/2022/03/GCP-networking-comparison-ACG.png 380w" sizes="(max-width: 1255px) 100vw, 1255px" data-original-src="https://res.cloudinary.com/acloud-guru/image/fetch/c_thumb,f_auto,q_auto/https://acg-wordpress-content-production.s3.us-west-2.amazonaws.com/app/uploads/2022/03/GCP-networking-comparison-ACG.png"/></figure><h2>每个提供商都支持虚拟网络之间的对等。</h2><p>例如，Azure支持vnet之间的对等，允许对等的vnet进行通信。</p><p>AWS VPCs也支持对等。</p><ul><li>还有GCP的VPC。</li><li>但是对于所有这三种情况，不支持可传递对等。因此，如果网络A与网络C的B and B对等，网络A和网络C将无法通信，至少在我们在A和C之间添加另一个对等之前是如此</li><li>然而，这种解决方案不能很好地扩展，如果我们再增加一个网络，我们需要三个以上的peerings来让它们全部通信。随着网络数量的增长，这将很难管理。我们需要的是一个轴辐式解决方案，允许我们用一个连接来连接多个网络。这是通过网关实现的。</li></ul><p>微软Azure</p><p>在Azure中，VNet成为一个集线器和一个集线器和辐条，对等用于将辐条VNet连接到集线器，集线器包含一个在不同网络之间路由流量的网关。</p><h3>网关支持虚拟网络之间的连接传输。网关也支持Azure之外的连接。VPN网关支持网关和VPN端点之间的VPN连接，例如，支持到内部网络的连接。</h3><p>ExpressRoute网关支持Azure和具有专用ExpressRoute连接的内部网络之间的连接。快速路由连接是第三方网络上的安全冗余连接。</p><p>自动警报系统</p><p>对于AWS，可传递网关用于连接多个VPC。网关的转接连接到一个区域内的VPC，并允许流量在它们之间流动。</p><h3>如果涉及多个地区，地区间对等连接网关的转接，提供网络之间的连接。</h3><p>使用虚拟专用网关，可以通过VPN连接到远程网络。</p><p>对于专用连接，AWS直连网关用于在内部网络和VPC之间提供专用的高带宽专用连接。</p><p>在这种情况下，数据中心和AWS之间的连接需要第三方提供商。这些提供商位于AWS数据中心附近，在内部网络和AWS之间提供了一个私有的、可靠的连接。</p><p>谷歌云(GCP)</p><p>这就把我们带到了谷歌云服务。请记住，GCP的VPC是跨区域的，默认情况下所有子网都可以通信。</p><h3>GCP介绍了项目的概念。VPC是项目的一部分，VPC内部的子网可以通信，但不能与另一个项目中的VPC通信。为了让两个VPC进行通信，我们需要添加VPC对等。</h3><p>就像Azure和AWS一样，GCP的对等是不可传递的。也就是说，如果我们添加第三个项目和VPC，并与VPC和项目2对等，则项目1和项目2可以通信，项目2和项目3可以通信，但项目1和项目3无法通信，除非我们添加另一个对等关系。</p><p>GCP还有一个特色，叫做共享VPC。这提供了灵活性，允许多个项目利用一个中央VPC，在这里可以控制和集中管理连接。</p><p>有两种网关用于本地网络的混合连接，包括通过公共互联网连接提供安全连接的云VPN。</p><p>GCP还提供云互联服务。这与Azure ExpressRoute和AWS私有虚拟连接一样，提供了私有专用电路上的安全连接。</p><p>所有服务都使用边界网关协议或BGP来管理不同内部和云网络之间的路由。如果您计划使用对等或连接到本地网络，则不能有任何重叠的子网。因此，规划IP地址空间非常重要。</p><p>关于混合连接的另一个注意事项是，他们不仅可以将云网络连接到本地网络，还可以连接多个云服务，从而能够实施真正的多云战略，并在每个服务之间实现安全连接。</p><figure class="wp-block-image size-large"><img loading="lazy" src="../Images/38fc3729b4d2169f96b67f4066767c4e.png" alt="" class="wp-image-118671" srcset="https://res.cloudinary.com/acloud-guru/image/fetch/c_thumb,f_auto,q_auto,w_1270/https://acg-wordpress-content-production.s3.us-west-2.amazonaws.com/app/uploads/2022/03/peering-and-gateways-compared-ACG.png 1270w, https://res.cloudinary.com/acloud-guru/image/fetch/c_thumb,f_auto,q_auto,w_300/https://acg-wordpress-content-production.s3.us-west-2.amazonaws.com/app/uploads/2022/03/peering-and-gateways-compared-ACG.png 300w, https://res.cloudinary.com/acloud-guru/image/fetch/c_thumb,f_auto,q_auto,w_1024/https://acg-wordpress-content-production.s3.us-west-2.amazonaws.com/app/uploads/2022/03/peering-and-gateways-compared-ACG.png 1024w, https://res.cloudinary.com/acloud-guru/image/fetch/c_thumb,f_auto,q_auto,w_768/https://acg-wordpress-content-production.s3.us-west-2.amazonaws.com/app/uploads/2022/03/peering-and-gateways-compared-ACG.png 768w, https://res.cloudinary.com/acloud-guru/image/fetch/c_thumb,f_auto,q_auto,w_380/https://acg-wordpress-content-production.s3.us-west-2.amazonaws.com/app/uploads/2022/03/peering-and-gateways-compared-ACG.png 380w" sizes="(max-width: 1270px) 100vw, 1270px" data-original-src="https://res.cloudinary.com/acloud-guru/image/fetch/c_thumb,f_auto,q_auto/https://acg-wordpress-content-production.s3.us-west-2.amazonaws.com/app/uploads/2022/03/peering-and-gateways-compared-ACG.png"/></figure><p><a href="https://get.acloudguru.com/cloud-dictionary-of-pain"> <strong>获得痛苦的云词典</strong> </a> <br/>说云不一定要努力。我们分析了数以百万计的回复，找出了最容易让人犯错的概念。抓住这个<a href="https://get.acloudguru.com/cloud-dictionary-of-pain" target="_blank" rel="noreferrer noopener">云指南</a>获取一些最痛苦的云术语<a>的简洁定义。</a></p><p>负载平衡</p><hr class="wp-block-separator"/><figure class="wp-block-image"><a href="https://get.acloudguru.com/cloud-dictionary-of-pain" target="_blank" rel="noreferrer noopener"><img loading="lazy" src="../Images/93ebf63b88ab7fbd48705a01952ba688.png" alt="Complete guide to the Cloud and Dictionary " class="wp-image-42660" srcset="https://res.cloudinary.com/acloud-guru/image/fetch/c_thumb,f_auto,q_auto,w_960/https://acg-wordpress-content-production.s3.us-west-2.amazonaws.com/app/uploads/2020/12/Cloud-Dictionary-Resource-Image.jpg 960w, https://res.cloudinary.com/acloud-guru/image/fetch/c_thumb,f_auto,q_auto,w_300/https://acg-wordpress-content-production.s3.us-west-2.amazonaws.com/app/uploads/2020/12/Cloud-Dictionary-Resource-Image.jpg 300w, https://res.cloudinary.com/acloud-guru/image/fetch/c_thumb,f_auto,q_auto,w_768/https://acg-wordpress-content-production.s3.us-west-2.amazonaws.com/app/uploads/2020/12/Cloud-Dictionary-Resource-Image.jpg 768w" sizes="(max-width: 960px) 100vw, 960px" data-original-src="https://res.cloudinary.com/acloud-guru/image/fetch/c_thumb,f_auto,q_auto/https://acg-wordpress-content-production.s3.us-west-2.amazonaws.com/app/uploads/2020/12/Cloud-Dictionary-Resource-Image.jpg"/></a></figure><p class="has-text-align-center">网络的另一个重要特性是在多个服务实例之间分配连接的能力。这被称为负载平衡。</p><hr class="wp-block-separator"/><h2>负载平衡不仅有助于提高可用性，而且通过将工作负载分散到同一服务的多个实例中，也有助于提高性能。</h2><p>实现负载平衡的方法有很多，Azure、AWS和GCP有不同的选项来满足任何负载平衡需求。</p><p>Azure有一个协议级负载平衡器，叫做Azure Load Balancer。负载平衡可以通过一个名为Azure应用网关的应用级负载平衡器来扩展。Azure还提供了一个名为Traffic Manager的域名服务或DNS负载平衡器。它使用名称到IP地址的解析来根据您定义的规则分配连接，并使用名为“前门”的全局负载平衡器来支持SSL卸载，并根据您配置的规则将流量路由到最近的资源。</p><figure class="wp-block-image size-large"><img loading="lazy" src="../Images/40464e7fb0fb25ed1be9a5b64dd99909.png" alt="" class="wp-image-118672" srcset="https://res.cloudinary.com/acloud-guru/image/fetch/c_thumb,f_auto,q_auto,w_1261/https://acg-wordpress-content-production.s3.us-west-2.amazonaws.com/app/uploads/2022/03/load-balancing-ACG.png 1261w, https://res.cloudinary.com/acloud-guru/image/fetch/c_thumb,f_auto,q_auto,w_300/https://acg-wordpress-content-production.s3.us-west-2.amazonaws.com/app/uploads/2022/03/load-balancing-ACG.png 300w, https://res.cloudinary.com/acloud-guru/image/fetch/c_thumb,f_auto,q_auto,w_1024/https://acg-wordpress-content-production.s3.us-west-2.amazonaws.com/app/uploads/2022/03/load-balancing-ACG.png 1024w, https://res.cloudinary.com/acloud-guru/image/fetch/c_thumb,f_auto,q_auto,w_768/https://acg-wordpress-content-production.s3.us-west-2.amazonaws.com/app/uploads/2022/03/load-balancing-ACG.png 768w, https://res.cloudinary.com/acloud-guru/image/fetch/c_thumb,f_auto,q_auto,w_380/https://acg-wordpress-content-production.s3.us-west-2.amazonaws.com/app/uploads/2022/03/load-balancing-ACG.png 380w" sizes="(max-width: 1261px) 100vw, 1261px" data-original-src="https://res.cloudinary.com/acloud-guru/image/fetch/c_thumb,f_auto,q_auto/https://acg-wordpress-content-production.s3.us-west-2.amazonaws.com/app/uploads/2022/03/load-balancing-ACG.png"/></figure><p>正如您所料，AWS还提供了多种负载平衡解决方案。AWS中的网络负载平衡器基于传输层或SSL流量层来分配连接。应用负载平衡器在应用层做出路由决策，使用基于路径的路由来引导流量。AWS还提供了一个名为Route 53的DNS负载平衡器。Route 53使用DNS根据您配置的规则路由流量，这些规则包括DNS端点的健康检查、地理位置和基于延迟的决策。</p><ul><li>最后但同样重要的是与GCP的负载平衡。谷歌云与其他的略有不同。有两种基本类型的负载平衡器，内部和外部。使用内部负载均衡器，客户端请求来自Google Cloud内部，内部负载均衡器是区域性的。它可以使用TCP或UDP端口来管理流量，或者内部负载平衡器可以是使用HTTP或HTTPS来引导流量的代理。当客户端连接来自互联网时，使用外部负载平衡器。外部负载平衡器可以是区域性或全球性的，并使用直通或代理模式来路由流量。</li></ul><ul><li>当我们比较这些选项时，请记住，在使用负载平衡器规划高可用性时，跨多个地区或地理位置正确设计服务以及构建和冗余与负载平衡解决方案同样重要。</li></ul><ul><li>例如，如果我们部署了一个负载平衡器，但其背后的资源都在一个数据中心，如果该数据中心变得不可用，该解决方案将面临风险。更好的解决方案是使用全局、区域或内部和外部负载平衡器的组合来设计高可用性解决方案。但那是改天的话题…</li></ul><p>要了解有关网络的更多信息，请查看以下课程:</p><p>想了解更多关于云计算和技术领域最热门的技能吗？<a href="https://acloudguru.com/pricing" target="_blank" rel="noreferrer noopener">开始免费试用</a>或查看<a href="https://acloudguru.com/blog/news/whats-free-at-acg" target="_blank" rel="noreferrer noopener">本月的免费云培训</a>。你也可以<a href="https://www.youtube.com/c/AcloudGuru/?sub_confirmation=1" target="_blank" rel="noreferrer noopener">在YouTube上订阅一位云专家</a>的每周云新闻，像我们一样关注<a href="https://www.facebook.com/acloudguru" target="_blank" rel="noreferrer noopener">脸书</a>，在<a href="https://twitter.com/acloudguru" target="_blank" rel="noreferrer noopener"> Twitter </a>上关注我们，并加入<a href="http://discord.gg/acloudguru" target="_blank" rel="noreferrer noopener"> Discord </a>上的对话。</p><p><a href="https://get.acloudguru.com/solving-no-experience-cloud-problem-webinar"> <strong>看点:解决“没有经验”的云招聘问题</strong> </a> <br/>没有工作是得不到经验的。但是谁会雇佣没有经验的你呢？谜题！<a href="https://get.acloudguru.com/solving-no-experience-cloud-problem-webinar">观看这一免费的点播网络研讨会</a>，进行关于云计算职业发展的小组讨论，并获得您的第一份云计算工作。</p><p>Looking to learn more about cloud and the hottest skills in tech? <a href="https://acloudguru.com/pricing" target="_blank" rel="noreferrer noopener">Start a free trial</a> or check out <a href="https://acloudguru.com/blog/news/whats-free-at-acg" target="_blank" rel="noreferrer noopener">this month’s free cloud training</a>. You can also <a href="https://www.youtube.com/c/AcloudGuru/?sub_confirmation=1" target="_blank" rel="noreferrer noopener">subscribe to A Cloud Guru</a> on YouTube for weekly cloud news, like us on <a href="https://www.facebook.com/acloudguru" target="_blank" rel="noreferrer noopener">Facebook</a>, follow us on <a href="https://twitter.com/acloudguru" target="_blank" rel="noreferrer noopener">Twitter</a>, and join the conversation on <a href="http://discord.gg/acloudguru" target="_blank" rel="noreferrer noopener">Discord</a>.</p><hr class="wp-block-separator"/><p class="has-text-align-center" id="h-watch-solving-the-no-experience-cloud-hiring-problem"><a href="https://get.acloudguru.com/solving-no-experience-cloud-problem-webinar"><strong>WATCH: Solving The “No Experience” Cloud Hiring Problem</strong></a><br/>You can’t get experience without a job. But who’ll hire you without experience? Conundrum! <a href="https://get.acloudguru.com/solving-no-experience-cloud-problem-webinar">Watch this free, on-demand webinar</a> featuring a panel discussion on cloud career development and getting your first cloud job. </p></div></div>    
</body>
</html>